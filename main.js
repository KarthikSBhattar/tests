script = `<body style="">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"><div><div id="cb-atlas-header-1" role="banner" tabindex="-1" data-cbtrack-widget="header" class="cb-widget _3E2fE91x1MJgCm673H3Mah _3hLIE_D5wZkuzgp97_u4L6"><a class="_1C6F-1ig1hhhvCckNwc4Qc" data-cbtrack-linktype="toggle" href="#mysat-homepage">Skip to Content</a><div class="_2cdg9kxck357L54zHPSN6R container"><div class="_6ENWmZM3cQAKhoH2PVgI7"><div class="_6ENWmZM3cQAKhoH2PVgI7 _2MbBKmCsXWQ7uvhEicuzmj"><div class="VYVQol80v3gSbAVH9SBpU"><a href="#widget-menu-control" aria-expanded="false" aria-label="open Global Navigation" data-cbtrack-linktype="toggle"><div class="visible-xs visible-sm hidden-md-up"><i class="cb-glyph-logo cb-logo" aria-hidden="true"></i><span class="sr-only" aria-hidden="true">Open Global Navigation Panel</span></div><div class="hidden-xs hidden-sm"><i class="cb-glyph cb-down false" aria-hidden="true"></i><span class="sr-only" aria-hidden="true">Open Global Navigation Panel</span></div></a></div><div class="_6ENWmZM3cQAKhoH2PVgI7 IX27Ak-Ogx5M5_yFM-cA_ _19ylp8OU4D82Ja-uUla_bP"><h1 role="presentation"><a href="https://www.collegeboard.org/" class="_2-vqSdzAO3ZO7D4SCkhovC cb-glyph-logo cb-logo" data-cbtrack-linktype="nav"><span class="sr-only">The College Board</span></a></h1><h2 role="presentation" data-cbtrack-linkgroup="logo-lockup" class="_3bw06I2k0k645jkDnq9Ets"><a aria-label="My SAT Home Page" href="/" data-cbtrack-linktype="nav" class="AuEOwi9FT5j0k-sAQ6vNk _3pd-PPdo7EOCEuWfKbbmY_ undefined cb-glyph-logo cb-programs-my-sat-home-page"><span class="sr-only">My SAT Home Page</span></a></h2></div></div><div class="_6ENWmZM3cQAKhoH2PVgI7 _1q2tq5z1mifwMs838Ju3mF _2HLObf4kC0G0xCVo_rVcNH"><div class="_6ENWmZM3cQAKhoH2PVgI7 _2HLObf4kC0G0xCVo_rVcNH"><a href="#widget-login-control" aria-label="Hi, Karthik  (account and login settings)" class="_21JnTGqldifCCAFS_-WSdM IpPinJvUWX_gHR4UzPT9b" data-cbtrack-linktype="toggle" aria-haspopup="dialog" data-cbtrack-label="[User First Name]"><span class="OHYx4pfmhf0MrQbqKGyX1">Hi, <strong>Karthik</strong></span><span class="cb-glyph-content-multi FDSV9GC0V9ooOviZEC8KW cb-user cb-glyph-sm hidden-xs" aria-hidden="true"></span></a></div></div></div></div><div id="global-header-navigation" class="_3qvg7YLaD3BzMbddu7j-sd" role="navigation" aria-label="Global Navigation" aria-hidden="true" data-cbtrack-linkgroup="global-nav" style="overflow: auto;"><div class="_39n3txVghbGzEGjsab8BhR _1Wd81l9GWjOm6MfG_nPGUJ"></div></div><div class="_3qvg7YLaD3BzMbddu7j-sd _1aIT8-B59TQOykqvoXV3kh" role="dialog" aria-label="Login and Account Panel" aria-hidden="true" data-cbtrack-linkgroup="login-panel" style="overflow: auto;"><div class="_39n3txVghbGzEGjsab8BhR _1aIT8-B59TQOykqvoXV3kh _1Wd81l9GWjOm6MfG_nPGUJ"></div></div><div class="_3qvg7YLaD3BzMbddu7j-sd" role="dialog" aria-label="Search Panel" aria-hidden="true" data-cbtrack-linkgroup="search-panel" style="overflow: visible;"><div class="_39n3txVghbGzEGjsab8BhR _1Wd81l9GWjOm6MfG_nPGUJ"></div></div></div></div><div id="mysat-homepage"><main><div id="app-scroll-to-top-id" class="app"><div><div class="session-timeout"><div class="cb-modal with-icon" id="apricot_modal_2" aria-hidden="true" data-cbtrack-comp="apricot-react:modal"><div class="cb-modal-overlay" tabindex="-1" data-cb-modal-close="true"><div class="cb-modal-container" role="dialog" aria-modal="true" aria-labelledby="session-timeout-modal"><div class="cb-modal-header cb-modal-has-close"><div id="session-timeout-modal"><div class="flex-item"><div class="icon-container"><div class="col-xl-1 col-lg-1 col-xs-1 col-sm-1 glyph-icon"><span class="cb-glyph cb-exclamation-circle" aria-hidden="true"></span></div></div><div class="cb-spacerh-16"></div></div></div><button type="button" class="cb-btn cb-btn-square cb-btn-greyscale cb-btn-close" data-cbtrack-comp="apricot-react:button" aria-describedby="session-timeout-modal" data-cb-modal-close="true"><span></span><span class="cb-icon cb-x-mark" aria-hidden="true"></span><span class="sr-only">Close Modal</span></button></div><div class="cb-modal-content"><div class="timer-content"><span class="sr-only">Warning</span>Your Session will expire in <span class="remaining-time">03:00</span></div></div><div class="cb-modal-footer"><div class="cb-modal-footer"><div class="cb-btn-row"><button type="button" class="cb-btn cb-btn-naked">Log Out</button><button aria-describedby="session-timeout-modal" type="button" class="cb-btn cb-btn-primary">Continue</button></div></div></div></div></div></div></div><div class="Toastify"></div><div class="cb-gray5-bg"><div id="qc-id-homepage-header-homeheader" class="home-header cb-band cb-band-hero cb-band-panel cb-blue5-bg cb-align-center"><div class="cb-band-panel-content cb-white-color"><div class="cb-band-panel-title cb-margin-bottom-16 cb-roboto"><div class="header-name cb-h1">Hello <span id="qc-id-header-first-name">Karthik</span></div><div class="header-subtext cb-h2 cb-roboto-light">Manage your test registrations and scores.</div></div><div class="cb-btn-row" data-cbtrack-promo="hero:cta" data-kiwi-feature-view="promo:promo" data-kiwi-promo-view="mysat:hero:cta" data-kiwi-link=""><button type="button" class="cb-btn cb-btn-primary cb-btn-icon-left cb-btn-yellow cb-roboto-bold" id="qc-id-header-register-button">Register for the SAT<span></span></button></div></div></div><div data-cbtrack-widget="mysatfw"><div class="fee-waiver cb-white-bg"><div class="container"><div class="header row"><div class="text-content col-xs-12 display-flex cb-paragraph1-res cb-no-padding"><div class="display-flex flex-wrap hidden"></div></div><div class="collapse-button cb-no-padding"><button type="button" class="collapsible cb-btn cb-btn-square cb-btn-greyscale cb-btn-close active" aria-label="fee waiver" aria-expanded="true" data-cbtrack-linktype="toggle" data-cbtrack-label="hide-widget"><div>–</div></button></div></div><div class="cb-toast-container" style="top: 48px; bottom: auto;"></div><div data-cbtrack-screen="enter-code"><div class="col-xs-12 display-flex align-items-center flex-wrap"><div class="col-xs-12 col-sm-1 display-flex justify-content-xs-center"><img alt="fee waiver icon" class="expanded-icon" src="https://mysat.collegeboard.org/assets/fee-waiver-icon-f82f2ace.svg"></div><span class="col-xs-12 col-sm-11 cb-align-xs-center cb-roboto-slab-bold cb-paragraph2-res cb-gray1-color cb-margin-bottom-8 cb-margin-top-8"><span role="heading" aria-level="2">Got a fee waiver code?</span></span></div><div class="col-xs-12 col-sm-10 offset-sm-1 display-flex "><span class="cb-roboto col-xs-12 col-sm-10 display-flex"><span>Enter your fee waiver code or ask your school test administrator for more details. <a href="https://collegereadiness.collegeboard.org/sat/register/fees/fee-waivers" target="_blank" rel="noreferrer">Learn if you're eligible.</a><span><a href="https://satfeewaiverform.collegeboard.org"></a></span></span></span></div><div class="col-xs-12 col-sm-10 display-flex justify-content-md-up-end cb-margin-top-24 offset-sm-1"><div class="col-xs-12 col-sm-10 cb-margin-bottom-16 display-flex justify-content-between"><div class="flex-xs-fill col-xs-12 cb-no-padding-left"><div class="cb-input cb-floating-label"><label class=" " for="feeWaiver">Enter fee waiver code</label><input id="feeWaiver" type="text" data-cb-value=""></div></div><div class="col-xs-2 col-sm-3"><div class="hidden-xs"><button type="button" class="cb-btn cb-btn-primary cb-btn-yellow" disabled="" data-cbtrack-comp="apricot-react:button"><span>Submit</span><span></span></button></div><div class="hidden-sm-up"><button type="button" class="cb-btn cb-btn-primary cb-btn-yellow cb-btn-circle" disabled="" data-cbtrack-comp="apricot-react:button"><span class="cb-glyph cb-right" aria-hidden="true"></span><span class="sr-only">Submit</span><span></span></button></div></div></div></div></div></div></div></div><div class="container"><div class="cb-padding-md-left-8 cb-padding-lg-up-left-72 cb-padding-lg-up-right-72"><div class="cb-margin-top-48"><div class="row cb-margin-bottom-32"><div class="col-xs-12"><h2 class="cb-roboto-light"><span class="display-inline-block">Don't Forget These Steps</span></h2><h3 class="cb-roboto-light cb-h4 cb-margin-top-8 cb-black1"><span class="display-inline-block">Get deadlines and details for test-related tasks.</span></h3></div></div><div class="important-tasks"><div class="hidden-lg-up"><div role="region" aria-label="event timelines" class="cb-horizontal-carousel" data-cb-overflow="none"><div class="cb-horizontal-nav cb-horizontal-nav-left"><a aria-label="scroll content to left" href="#" tabindex="-1" aria-disabled="true"><span class="cb-glyph cb-left" aria-hidden="true"></span></a></div><div class="cb-horizontal-carousel-nav"><div class="cb-horizontal-carousel-content"><div class="carousel"><div class="tasks-card" data-cbtrack-promo="step:new-sat" data-kiwi-feature-view="promo:promo" data-kiwi-promo-view="mysat:step:new-sat" data-kiwi-link=""><div class="flex-column cb-padding-xs-up-top-16 cb-padding-xs-up-bottom-16 tasks-card-content"><a href="https://satreg.collegeboard.org/register"><div class="display-flex link-content"><div class="col-sm-2 hidden-xs-only"><span class="cb-glyph cb-glyph-circular cb-north-east" aria-hidden="true"></span></div><div class="col-sm-2 hidden-sm-up cb-margin-top-8"><span class="cb-glyph big-glyph cb-north-east" aria-hidden="true"></span></div><div class="col-xs-9 cb-margin-bottom-16">Sign up to take your first SAT</div><div class="col-xs-1 display-flex justify-content-end"><span class="cb-glyph big-glyph align-self-end cb-east" aria-hidden="true"></span></div></div></a></div></div></div></div></div><div class="cb-horizontal-nav cb-horizontal-nav-right"><a aria-label="scroll content to right" href="#" tabindex="-1" aria-disabled="true"><span class="cb-glyph cb-right" aria-hidden="true"></span></a></div></div></div><div class="hidden-xs hidden-sm hidden-md display-flex justify-content-start"><div class="tasks-card" data-cbtrack-promo="step:new-sat"><div class="flex-column cb-padding-xs-up-top-16 cb-padding-xs-up-bottom-16 tasks-card-content"><a href="https://satreg.collegeboard.org/register"><div class="display-flex link-content"><div class="col-sm-2 hidden-xs-only"><span class="cb-glyph cb-glyph-circular cb-north-east" aria-hidden="true"></span></div><div class="col-sm-2 hidden-sm-up cb-margin-top-8"><span class="cb-glyph big-glyph cb-north-east" aria-hidden="true"></span></div><div class="col-xs-9 cb-margin-bottom-16">Sign up to take your first SAT</div><div class="col-xs-1 display-flex justify-content-end"><span class="cb-glyph big-glyph align-self-end cb-east" aria-hidden="true"></span></div></div></a></div></div></div></div></div><hr class="cb-margin-top-32 cb-margin-bottom-16"><div class="row"><div class="col-xs-12 col-md-7 cb-margin-top-32"><div class="row cb-margin-bottom-16"><div class="cb-margin-left-4"><div class="row cb-padding-left-8 cb-margin-bottom-24"><div class="col-xs-12"><h2 class="cb-roboto-light"><span class="display-inline-block">My Upcoming Tests</span></h2></div></div></div><div class="col-xs-12"><div class="qc-registrations-container cb-margin-bottom-32"><div class="registration-card cb-card cb-no-margin-top cb-margin-bottom-48"><div class="cb-card-content"><div class="row"><div class="col-xs-12"><div class="card-content"><div class="cb-paragraph2-res cb-roboto-light cb-margin-bottom-8">You Don’t Have Any Upcoming Tests.</div><div class="hr cb-margin-top-8 cb-margin-bottom-24"></div><div class="card-text cb-roboto-light cb-font-size-small">Taking the SAT at school? Your test date will show when you get scores.</div></div></div></div></div></div></div></div></div><hr class="cb-margin-right-8 cb-margin-top-16 cb-margin-bottom-32"><div class="row scores-section"><div class="row cb-padding-left-8 cb-margin-bottom-8"><div class="col-xs-12"><h2 class="cb-roboto-light"><span class="display-inline-block">My Scores</span></h2></div></div><div class="col-xs-12"><div class="qc-assessment-summary-card-list"><div role="region" aria-label="PSAT/NMSQT Fall 2023 Administration taken on 2023-10-24"><div class="score-card cb-card cb-margin-top-48 cb-margin-bottom-48 visible"><div class="cb-card-content"><div class="row"><div class="col-xs-12 flex-column"><div id="display-title-2258" role="heading" aria-level="3" class="cb-h3 cb-roboto-medium cb-margin-bottom-8">SAT December, 2 2023 Administration&nbsp;</div><div id="test-date-2258" class="cb-date-time-tags cb-paragraph1-res cb-roboto-light"><p>December 2, 2023</p><p>10th Grade</p></div></div></div><div class="row"><div class="col-xs-12"><div class="hr cb-margin-top-16 cb-margin-bottom-24 visible"></div><div><div class="cb-margin-bottom-16"><div class="display-flex score "><div class="flex-nowrap total-score" data-qc-id="42eab9ae-be06-4535-a94f-15a45fe5f7b2:db-tot-score"><div class="cb-roboto-medium cb-paragraph1-res">Your Total Score</div><div class="display-flex"><div class="cb-roboto-light cb-margin-right-8 cb-font-size-xlarge-res">1560</div><div class="display-flex self-align-center range-container"><div class="separator "></div><div class="display-flex"><div class="sr-only">The Minimum and Maximum Score Range is</div><div class="score-range cb-margin-left-4 cb-roboto-thin align-self-center cb-align-left range-label"><div class="bottom-margin">400 to</div>1600</div></div></div></div></div></div></div><div class="partial-scores display-flex justify-content-between col-xs-8 col-sm-7 col-md-9 col-lg-9 col-xl-8 cb-no-padding-left"><div class="display-flex score small"><div class="flex-nowrap total-score" data-qc-id="42eab9ae-be06-4535-a94f-15a45fe5f7b2:db-Reading and Writing"><div class="cb-roboto-medium cb-paragraph2-st">Your Reading and Writing Score</div><div class="display-flex"><div class="cb-roboto-light cb-margin-right-8 cb-paragraph4-res">760</div><div class="display-flex self-align-center range-container"><div class="separator small"></div><div class="display-flex"><div class="sr-only">The Minimum and Maximum Score Range is</div><div class="score-range cb-margin-left-4 cb-roboto-thin align-self-center cb-align-left range-label"><div class="bottom-margin">200 to</div>800</div></div></div></div></div></div><div class="display-flex score small"><div class="flex-nowrap total-score" data-qc-id="42eab9ae-be06-4535-a94f-15a45fe5f7b2:db-Math"><div class="cb-roboto-medium cb-paragraph2-st">Your Math Score</div><div class="display-flex"><div class="cb-roboto-light cb-margin-right-8 cb-paragraph4-res">800</div><div class="display-flex self-align-center range-container"><div class="separator small"></div><div class="display-flex"><div class="sr-only">The Minimum and Maximum Score Range is</div><div class="score-range cb-margin-left-4 cb-roboto-thin align-self-center cb-align-left range-label"><div class="bottom-margin">200 to</div>800</div></div></div></div></div></div></div><span role="link" aria-describedby="test-date-2258 display-title-2258" aria-label="View this score in student score reports app" class="get-score-glyph cb-glyph cb-east cb-glyph-circular cb-blue5-color" tabindex="0"></span></div></div></div></div></div></div></div><div class="qc-assessment-summary-card-list"><div role="region" aria-label="PSAT/NMSQT Fall 2023 Administration taken on 2023-10-24"><div class="score-card cb-card cb-margin-top-48 cb-margin-bottom-48 visible"><div class="cb-card-content"><div class="row"><div class="col-xs-12 flex-column"><div id="display-title-2258" role="heading" aria-level="3" class="cb-h3 cb-roboto-medium cb-margin-bottom-8">PSAT/NMSQT Fall 2023 Administration</div><div id="test-date-2258" class="cb-date-time-tags cb-paragraph1-res cb-roboto-light"><p>October 24, 2023</p><p>10th Grade</p></div></div></div><div class="row"><div class="col-xs-12"><div class="hr cb-margin-top-16 cb-margin-bottom-24 visible"></div><div><div class="cb-margin-bottom-16"><div class="display-flex score "><div class="flex-nowrap total-score" data-qc-id="42eab9ae-be06-4535-a94f-15a45fe5f7b2:db-tot-score"><div class="cb-roboto-medium cb-paragraph1-res">Your Total Score</div><div class="display-flex"><div class="cb-roboto-light cb-margin-right-8 cb-font-size-xlarge-res">1500</div><div class="display-flex self-align-center range-container"><div class="separator "></div><div class="display-flex"><div class="sr-only">The Minimum and Maximum Score Range is</div><div class="score-range cb-margin-left-4 cb-roboto-thin align-self-center cb-align-left range-label"><div class="bottom-margin">320&nbsp;to</div>1520</div></div></div></div></div></div></div><div class="partial-scores display-flex justify-content-between col-xs-8 col-sm-7 col-md-9 col-lg-9 col-xl-8 cb-no-padding-left"><div class="display-flex score small"><div class="flex-nowrap total-score" data-qc-id="42eab9ae-be06-4535-a94f-15a45fe5f7b2:db-Reading and Writing"><div class="cb-roboto-medium cb-paragraph2-st">Your Reading and Writing Score</div><div class="display-flex"><div class="cb-roboto-light cb-margin-right-8 cb-paragraph4-res">700</div><div class="display-flex self-align-center range-container"><div class="separator small"></div><div class="display-flex"><div class="sr-only">The Minimum and Maximum Score Range is</div><div class="score-range cb-margin-left-4 cb-roboto-thin align-self-center cb-align-left range-label"><div class="bottom-margin">160&nbsp;to</div>760</div></div></div></div></div></div><div class="display-flex score small"><div class="flex-nowrap total-score" data-qc-id="42eab9ae-be06-4535-a94f-15a45fe5f7b2:db-Math"><div class="cb-roboto-medium cb-paragraph2-st">Your Math Score</div><div class="display-flex"><div class="cb-roboto-light cb-margin-right-8 cb-paragraph4-res">800</div><div class="display-flex self-align-center range-container"><div class="separator small"></div><div class="display-flex"><div class="sr-only">The Minimum and Maximum Score Range is</div><div class="score-range cb-margin-left-4 cb-roboto-thin align-self-center cb-align-left range-label"><div class="bottom-margin">160&nbsp;to</div>760</div></div></div></div></div></div></div><span role="link" aria-describedby="test-date-2258 display-title-2258" aria-label="View this score in student score reports app" class="get-score-glyph cb-glyph cb-east cb-glyph-circular cb-blue5-color" tabindex="0"></span></div></div></div></div></div></div></div></div></div><div class="cb-card cb-white-bg cb-margin-bottom-16 cb-margin-top-16 help-card cb-border cb-border-1 cb-gray4-border"><span class="cb-h4 cb-roboto display-flex justify-content-left align-items-center help-card-content"><div class="help-card-content-image-container"><img src="https://mysat.collegeboard.org/assets/questionIcon-3efc2794.svg" class="help-card-content-image" alt="Question?"></div><div class="help-card-content-text cb-roboto-light"><div>Need help? <a href="https://satsuite.collegeboard.org/digital" target="_blank">Learn more about the Digital SAT and registering online.</a></div></div></span></div></div><div class="col-xs-12 col-md-4 offset-md-1"><div class="cb-spacerv-48 hidden-xs hidden-sm"></div><div class="cb-spacerv-32 hidden-xs hidden-sm hidden-md"></div><div class="cb-spacerv-24 hidden-lg-up"></div><div class="cb-card cb-card-cta cb-blue5-bg cb-white-color cb-margin-bottom-32 cb-margin-md-up-top-24 cb-margin-sm-down-top-32 primary-cta-card"><div class="cb-card-header justify-content-center"><span class="cb-glyph-content cb-resources" aria-hidden="true"></span></div><div class="cb-card-content cb-align-center"><h3 class="cb-font-weight-light cb-margin-bottom-24">Practice for the SAT</h3></div><div class="cb-card-action justify-content-center"><button type="button" class="cb-btn cb-btn-light" role="link" data-cbtrack-promo="rail-main:btn-no-khan-link" data-kiwi-feature-view="promo:promo" data-kiwi-promo-view="mysat:rail-main:btn-no-khan-link" data-kiwi-link="">Get free SAT Practice<span></span></button></div><div class="cb-card-action justify-content-center"><button type="button" class="cb-btn cb-btn-naked cb-white-color cb-roboto" role="link" data-cbtrack-promo="rail-main:lnk-no-khan-link" data-kiwi-feature-view="promo:promo" data-kiwi-promo-view="mysat:rail-main:lnk-no-khan-link" data-kiwi-link="">Connect to practice materials.<span></span></button></div></div><div class="next-steps cb-margin-top-72"><h3 class="cb-paragraph2-res cb-roboto-light cb-margin-left-16">Next Steps Towards College</h3><div class="hr cb-gray-5-bg cb-margin-top-8 cb-margin-bottom-8"></div><div class="cb-card-list-vertical"><div class="cb-padding-top-8 cb-padding-bottom-8"><div class="row display-flex cb-h5 cb-padding-left-16 cb-padding-top-4"><div class="col-3xl-2 col-lg-2 col-md-2 col-sm-1 col-xs-2"><span class="cb-glyph cb-padding-right-16 cb-glyph-circular cb-blue4-color cb-opacity-7 cb-search"></span></div><div class="col-3xl-9 col-lg-9 col-md-8 col-sm-10 col-xs-8 cb-paragraph1-res"><a href="https://studentsearch.collegeboard.org/opt-in" target="_blank" data-cbtrack-promo="rail-step:btn-sss" data-kiwi-feature-view="promo:promo" data-kiwi-promo-view="mysat:rail-step:btn-sss" data-kiwi-link="">Help colleges find you with Student Search Service</a></div><div class="col-3xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 align-self-center"><span class="cb-glyph cb-right" aria-hidden="true"></span></div></div></div><div class="hr cb-gray-5-bg cb-margin-top-8 cb-margin-bottom-8"></div></div></div></div></div><button type="button" class="cb-btn cb-btn-square cb-btn-floating cb-back-to-top cb-back-to-top-hide" title="Back to top" aria-hidden="true" tabindex="-1"><span class="cb-glyph cb-up" aria-hidden="true"></span></button></div></div></div></div><button type="button" class="cb-btn cb-btn-square cb-btn-floating cb-back-to-top cb-back-to-top-show" data-cbtrack-comp="apricot-react:button" aria-hidden="false" tabindex="0"><span></span><span class="cb-icon cb-up" aria-hidden="true"></span><span class="sr-only">back to top</span></button></div></main></div><div><div id="cb-atlas-footer-1" data-cbtrack-widget="footer" class="cb-widget _1tvfIAQnN4ah_rpkb4ox_" data-kiwi-feature-view="widget:footer"><div class="C44iFBXKCgqwkKHjkd7VZ"><a href="#cb-atlas-header-1" class="_3W07VR7YquUp6fvEu32DUt" aria-label="Back to top of page" data-cbtrack-linktype="toggle">Top <span aria-hidden="true" class="cb-icon-icn_arrow-up"></span></a></div><div class="_3KZmzFhZ0qfTYBJpnhgMy2"><div class="container _3RIARkFtrRheXJPKNAHSo"><div class="row"><div class="ioo9c4eGGDcU5XnL7eXMz col-xs-12 col-sm-4 col-md-4 col-lg-3"><div class="_1dq2F45p-qyV-dTk0e6k6-"><h2>Programs</h2></div><div class="_1h0_8CAc_MCDba8e5moz1P"><ul class="col-xs-6 col-sm-12 col-md-12 col-lg-12"><li><a href="https://satsuite.collegeboard.org/sat?navId=gf-sat" data-cbtrack-linktype="nav">SAT<sup>®</sup></a></li><li><a href="https://satsuite.collegeboard.org/psat-nmsqt?navId=gf-pn" data-cbtrack-linktype="nav">PSAT/NMSQT<sup>®</sup></a></li><li><a href="https://satsuite.collegeboard.org/psat-10?navId=gf-p10" data-cbtrack-linktype="nav">PSAT<sup>™</sup> 10</a></li><li><a href="https://satsuite.collegeboard.org/psat-8-9?navId=gf-p89" data-cbtrack-linktype="nav">PSAT<sup>™</sup> 8/9</a></li><li><a href="https://springboard.collegeboard.org/?navId=gf-sb" data-cbtrack-linktype="nav">SpringBoard<sup>®</sup></a></li><li><a href="https://pre-ap.collegeboard.org/?navId=gf-preap" data-cbtrack-linktype="nav">Pre-AP<sup>®</sup></a></li><li><a href="https://ap.collegeboard.org/?navId=gf-ap" data-cbtrack-linktype="nav">AP<sup>®</sup></a></li></ul><ul class="col-xs-6 col-sm-12 col-md-12 col-lg-12"><li><a href="https://bigfuture.collegeboard.org/?navId=gf-cp" data-cbtrack-linktype="nav">BigFuture<sup>®</sup></a></li><li><a href="https://accuplacer.collegeboard.org/?navId=gf-accu" data-cbtrack-linktype="nav">ACCUPLACER<sup>®</sup></a></li><li><a href="https://clep.collegeboard.org/?navId=gf-clep" data-cbtrack-linktype="nav">CLEP<sup>®</sup></a></li><li><a href="https://cssprofile.collegeboard.org/?navId=gf-css" data-cbtrack-linktype="nav">CSS Profile<sup>®</sup></a></li><li><a href="https://cbsearch.collegeboard.org/?navId=gf-cbsch" data-cbtrack-linktype="nav">Search</a></li><li><a href="https://powerfaids.collegeboard.org/?navId=gf-pfaid" data-cbtrack-linktype="nav">PowerFAIDS<sup>™</sup></a></li></ul></div></div><div class="ioo9c4eGGDcU5XnL7eXMz col-xs-12 col-sm-4 col-md-4 col-lg-3"><div class="_1dq2F45p-qyV-dTk0e6k6-"><h2>College Board</h2></div><div class="_1h0_8CAc_MCDba8e5moz1P"><ul class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><li><a href="https://about.collegeboard.org/?navId=gf-abt" data-cbtrack-linktype="nav">About Us</a></li><li><a href="https://careers.collegeboard.org/?navId=gf-car" data-cbtrack-linktype="nav">Careers</a></li><li><a href="https://membership.collegeboard.org/?navId=gf-mem" data-cbtrack-linktype="nav">Membership</a></li><li><a href="https://newsroom.collegeboard.org/?navId=gf-news" data-cbtrack-linktype="nav">Newsroom</a></li><li><a href="https://research.collegeboard.org/?navId=gf-rsch" data-cbtrack-linktype="nav">Research</a></li><li><a href="https://accommodations.collegeboard.org/?navId=gf-ssd" data-cbtrack-linktype="nav">Services for Students with Disabilities</a></li><li><a href="https://information.collegeboard.org/educational-opportunity-center/?navId=gf-eoc" data-cbtrack-linktype="nav">Educational Opportunity Center</a></li><li><a href="https://blog.collegeboard.org/?navId=gf-blog" data-cbtrack-linktype="nav">College Board Blog</a></li><li><a href="https://elective.collegeboard.org/?navId=gf-elective" data-cbtrack-linktype="nav">The Elective</a></li></ul></div></div><div class="ioo9c4eGGDcU5XnL7eXMz col-xs-12 col-sm-4 col-md-4 col-lg-3 col-lg-push-3 offset-lg-3"><div class="_1dq2F45p-qyV-dTk0e6k6-"></div><div class="_1h0_8CAc_MCDba8e5moz1P"><ul class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><li><a href="https://support.collegeboard.org/?navId=gf-help" data-cbtrack-linktype="nav">Help</a></li><li><a href="https://about.collegeboard.org/contact-us?navId=gf-contact" data-cbtrack-linktype="nav">Contact Us</a></li><li><a href="https://about.collegeboard.org/doing-business?navId=gf-bus" data-cbtrack-linktype="nav">Doing Business</a></li><li><a href="https://secure.ethicspoint.com/domain/en/report_custom.asp?clientid=18136&amp;navId=gf-comp" data-cbtrack-linktype="nav">Compliance</a></li><li><a href="https://privacy.collegeboard.org/student-legal-terms?navId=gf-stterms" data-cbtrack-linktype="nav">Legal Terms for Students</a></li><li><a href="https://privacy.collegeboard.org/educator-legal-terms?navId=gf-edterms" data-cbtrack-linktype="nav">Legal Terms for Educators and Institutions</a></li><li><a href="https://privacy.collegeboard.org/?navId=gf-pp" data-cbtrack-linktype="nav">Privacy Center</a></li><li><a href="https://my.collegeboard.org/profile/privacy?navId=gf-ps" data-cbtrack-linktype="nav">Privacy Settings</a></li><li><a href="https://form.collegeboard.org/f/data-subject-rights-request?navId=gf-pc" data-cbtrack-linktype="nav">Your Privacy Choices</a></li><li><a href="https://privacy.collegeboard.org/copyright-trademark?navId=gf-permissions" data-cbtrack-linktype="nav">Copyright and Trademark Permissions</a></li><li><a href="https://forms.collegeboard.org/reportcheating/s/?navId=gf-rc" data-cbtrack-linktype="nav">Report Cheating</a></li></ul></div></div></div></div></div><div class="container"><p class="hhCwfh1lb90wWbzJsCyOc">© 2023 College Board<span class="visible-lg-inline display-xs-none-only"> | </span><br class="hidden-lg display-lg-none">PSAT/NMSQT is a registered trademark of the College Board and National Merit Scholarship Corporation.</p></div></div></div></div>
    
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  <script type="text/javascript" src="/yX0Dln/P/E/RB05qGTeYA/5Nr3D4tk0p/FQwyFXhyBA/F2/sKdVM4DWQB"></script>

<script>_satellite["_runScript1"](function(event, target, Promise) {
var ruleName = '00 Page Load | 01 Page Top > Shred Cookies';
try {
    _satellite.logger.info(ruleName);

    //expire even legacy 10-year cookies
    if (document.cookie.match(/dtm_cbAcctData=/)) document.cookie = 'dtm_cbAcctData=; max-age=0; path=/; domain=.collegeboard.org';
    if (document.cookie.match(/kiwi_cookie=/)) document.cookie = 'kiwi_cookie=; max-age=0; path=/; domain=.collegeboard.org';
    if (document.cookie.match(/cbtrack_nav=/)) document.cookie = 'cbtrack_nav=; max-age=0; path=/; domain=.collegeboard.org';
    (document.cookie.match(/mp_\w+_mixpanel/g)||[]).forEach(function(o) {return document.cookie = o+'=; max-age=0; path=/; domain=.collegeboard.org';});

} catch(err) {
    _satellite.logger.error(ruleName + ' > ERROR: '+ err.message);
}

});</script><script>

var ruleName = '00 Page Load | 01 Page Top | 02 Embed OneTrust [OT] collegeboard.org Production';
try {
    _satellite.logger.info(ruleName);
    var otscript = document.createElement('script'),
        scr = document.getElementsByTagName('script')[0],
        par = scr.parentNode;
    otscript.src                   = 'https://cdn.cookielaw.org/scripttemplates/otSDKStub.js';
    otscript.type                  = 'text/javascript';
    otscript.charset               = 'UTF-8';
    if(document.location.hostname.includes('springboardonline.org')) {
      otscript.setAttribute('data-domain-script', 'e6dc1092-967d-434b-a436-5663dc882797');
    } else {
      otscript.setAttribute('data-domain-script', '34566b46-91c2-441e-b671-418bbdbc7a36');
    }
    par.insertBefore(otscript, scr);
    
    kiwi = window.kiwi || {};
    kiwi.domReadyFired = kiwi.domReadyFired || false;
    kiwi.windowLoadedFired = kiwi.windowLoadedFired || false;
    kiwi.ot = {
        ruleName: ruleName,
        loadPerformance: function() {
            if (kiwi.domReadyFired)         {_satellite.track('tags.load.domReady.performance');}
            //if (kiwi.windowLoadedFired)   {_satellite.track('tags.load.windowLoaded.performance');}
        },
        loadFunctional: function() {
            if (kiwi.domReadyFired)         {_satellite.track('tags.load.domReady.functional');}
            //if (kiwi.windowLoadedFired)   {_satellite.track('tags.load.windowLoaded.functional');}
        },
        loadMarketing: function() {
            if (kiwi.domReadyFired)         {_satellite.track('tags.load.domReady.marketing');}
            if (kiwi.windowLoadedFired)     {_satellite.track('tags.load.windowLoaded.marketing');}
        },
        loadSocialMedia: function() {
            //if (kiwi.domReadyFired)       {_satellite.track('tags.load.domReady.socialMedia');}
            //if (kiwi.windowLoadedFired)   {_satellite.track('tags.load.windowLoaded.socialMedia');}
        }
    }

} catch(err) {
    _satellite.logger.error(ruleName + ' > ERROR: '+ err.message);
}
function OptanonWrapper() {
    var ruleName= kiwi.ot.ruleName + ' > OptanonWrapper()';
    try {
        kiwi.otReady = true;
        if (OneTrust) {
            OneTrust.InsertHtml('<!-- OneTrust.InsertHtml + Performance -->', 'body', kiwi.ot.loadPerformance, null, '2');
            OneTrust.InsertHtml('<!-- OneTrust.InsertHtml + Functional -->', 'body', kiwi.ot.loadFunctional, null, '3');
            OneTrust.InsertHtml('<!-- OneTrust.InsertHtml + Marketing -->', 'body', kiwi.ot.loadMarketing, null, '4');
            OneTrust.InsertHtml('<!-- OneTrust.InsertHtml + SocialMedia -->', 'body', kiwi.ot.loadSocialMedia, null, '5');
        } else {
            _satellite.logger.warn(ruleName + ' | Could not call OneTrust.InsertHtml!');
        }

        _satellite.logger.info(ruleName + ' | OnetrustActiveGroups='+OnetrustActiveGroups);

    } catch(err) {
        _satellite.logger.error(ruleName + ' > ERROR: '+ err.message);
    }
}

</script><script>_satellite["_runScript2"](function(event, target, Promise) {

var ruleName = '00 Page Load | 01 Page Top > Initialize Kiwi';
try {
    _satellite.logger.info(ruleName);

    kiwi = window.kiwi || {};
    kiwi.mergeDdlTries = 1;
    kiwi.mergeDdl = _satellite.getVar('kiwi.mergeDdl');

    //handle s.t() calls from legacy apps, e.g. APOSR Send Scores
    s = window.s || {};
    s.t = s.t || function() {
        _satellite.track('cbTrack.viewInDom');
    }
    
    _satellite.getVar('Kiwi Util | Helpers | Legacy Functions');
    _satellite.getVar('Kiwi Util | Helpers | Util | Initialize');
    _satellite.getVar('Kiwi Util | Helpers | DDL | Initialize');
    _satellite.getVar('Kiwi Util | Helpers | DDL | User Data | Initialize and Start Async');

} catch(err) {
    _satellite.logger.error(ruleName + ' > ERROR: '+ err.message);
}

});</script><script>_satellite["_runScript3"](function(event, target, Promise) {

var ruleName = '00 Page Load | 01 Page Top > Load Tags';
try {
    _satellite.logger.info(ruleName);

    kiwi.pageTopFired = true;
    kiwi.preOptinApprovals = 'ecid,aa';
    //no waiting for OT in this phase - use custom logic (preOptinApprovals + previousPermissions) at tag embed time to check for consent
    _satellite.track('tags.load.pageTop.functional');
    _satellite.track('tags.load.pageTop.performance');
    //_satellite.track('tags.load.pageTop.marketing');
    //_satellite.track('tags.load.pageTop.socialMedia');

} catch(err) {
    _satellite.logger.error(ruleName + ' > ERROR: '+ err.message);
}

});</script><script>_satellite["_runScript4"](function(event, target, Promise) {

var ruleName = '00 Page Load | 01 Page Top > Initialize cbTarget';
try {
    _satellite.logger.info(ruleName);

    cbTarget = window.cbTarget || {};
    cbTarget.functions = _satellite.getVar('Kiwi Util | Functions | cbTarget') || {};

    //Target Global Settings at the browser level
    targetGlobalSettings = window.targetGlobalSettings || {}; 
    targetGlobalSettings.allowHighEntropyClientHints = true;

} catch(err) {
    _satellite.logger.error(ruleName + ' > ERROR: '+ err.message);
}

});</script><script>_satellite["_runScript5"](function(event, target, Promise) {
var ruleName="DCR | 00-01-C0002 | tags.load.pageTop.functional [AT]";try{var atConsent=!0,previousPermissions=_satellite.getVar("AA-Settings | ECID | Previous Permissions")||{};kiwi.preOptinApprovals=kiwi.preOptinApprovals||"",kiwi.preOptinApprovals+=",target",Object.keys(previousPermissions).length&&(atConsent=previousPermissions.target),atConsent?_satellite.track("tags.embed.wap.at.load"):_satellite.logger.info(ruleName+" > tags.embed.wap.at > Skipped (consent not given).")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript6"](function(event, target, Promise) {
var ruleName="DCR | 00-01-C0002 | tags.load.pageTop.performance [HEAP, KEYP, NR]";try{var nrConsent=!0,previousPermissions=_satellite.getVar("AA-Settings | ECID | Previous Permissions")||{};if(kiwi.preOptinApprovals=kiwi.preOptinApprovals||"",kiwi.preOptinApprovals+=",nr",Object.keys(previousPermissions).length&&(nrConsent=previousPermissions.aa),nrConsent){_satellite.track("tags.embed.tech.nr"),document.location.hostname.match(/^keyper[js\-demo]*\..*\.collegeboard\.org/i)&&_satellite.track("tags.embed.tech.keyper"),document.location.hostname.match(/^(?:bu|hanover|gpts|united|npbc|icom|garrett|qa-qa-test|ycm-p8)[-sandbox]*\.powerfaids\.org/i)&&_satellite.track("tags.embed.tech.keyper"),document.location.hostname.match(/^mypractice(?:-uat)*(?:.digitalpractice-nonprod)*.collegeboard\.org/i)&&_satellite.track("tags.embed.tech.keyper");let e=document.location.hostname;const o=e=>{_satellite.track("tags.embed.prog.heap",{hEnvId:e})};"bigfuture.collegeboard.org"===e||"scholarships.collegeboard.org"===e?o("3376604901"):e.match(/^.*\.collegeplanning-nonprod\.collegeboard\.org/i)?o("2512472218"):e.startsWith("bfcpsupport")&&("bfcpsupport.collegeboard.org"===e?o("4092374226"):"bfcpsupport-stg.collegeboard.org"!==e&&"bfcpsupport-preview.collegeboard.org"!==e&&"bfcpsupport-origin.collegeboard.org"!==e||o("3655620563"))}else _satellite.logger.info(ruleName+" > tags.embed.prog.heap, tags.embed.tech.nr > Skipped (consent not given).")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript7"](function(event, target, Promise) {
var ruleName="00 Page Load | 03 DOM Ready > Update Kiwi";try{_satellite.logger.info(ruleName),kiwi.ddl.pageLoad.ts.domReady=Date.now();var tsStart=_satellite.getVar("window.performance.timing.requestStart")||_satellite.getVar("kiwi.ddl.pageLoad.ts.inHead")||0,tsEnd=_satellite.getVar("kiwi.ddl.pageLoad.ts.domReady")||0;kiwi.ddl.pageLoad.loadTime=tsStart&&tsEnd?kiwi.util.getTimeDiff(tsStart,tsEnd,"ds"):0,_satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page Load Update")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript8"](function(event, target, Promise) {
var ruleName="00 Page Load | 03 DOM Ready > Call Track";try{var eventName="kiwi.trackQueue",trackSource="page-load",expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectWidgets=!1,updateDl=!1;_satellite.logger.info(ruleName+" > "+eventName+" ==> "+trackSource),expectWidgets="derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:expectWidgetsSetting,document.dispatchEvent(new CustomEvent(eventName,{bubbles:!0,detail:{trackSource:trackSource,expectWidgets:expectWidgets,updateDl:updateDl}}))}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript9"](function(event, target, Promise) {
var ruleName="00 Page Load | 03 DOM Ready > Wire Modals";try{_satellite.logger.info(ruleName),"undefined"!=typeof jQuery?jQuery(document).ready((function(e){e(document).on("show.bs.modal",(function(e){_satellite.logger.info(ruleName+" > show.bs.modal");var a="kiwi.modal.shown";document.dispatchEvent(new CustomEvent(a,{bubbles:!0,detail:{modalEl:e.target}}))})),e(document).on("hide.bs.modal",(function(e){_satellite.logger.info(ruleName+" > hide.bs.modal");var a="kiwi.modal.hidden";document.dispatchEvent(new CustomEvent(a,{bubbles:!0,detail:{modalEl:e.target}}))}))})):_satellite.logger.info(ruleName+" > No JQuery on page. (Currently only jQuery modals are automatically wired.)")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript10"](function(event, target, Promise) {
var ruleName="00 Page Load | 03 DOM Ready > Load Tags";try{kiwi.domReadyFired=!0,kiwi.otReady=kiwi.otReady||!1,kiwi.otReady?(_satellite.logger.info(ruleName),_satellite.track("tags.load.domReady.performance"),_satellite.track("tags.load.domReady.functional"),_satellite.track("tags.load.domReady.marketing")):_satellite.logger.info(ruleName+" > waiting for kiwi.otReady")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript11"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.viewInDom > Call Track";try{var callTrackQueue=function(){var e="kiwi.trackQueue",a="spa",r=!1,t=!1;_satellite.logger.info(ruleName+" > "+e+" ==> "+a),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:r,updateDl:t}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript12"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.viewInDom > Call Track";try{var callTrackQueue=function(){var e="kiwi.trackQueue",a="spa",r=!1,t=!1;_satellite.logger.info(ruleName+" > "+e+" ==> "+a),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:r,updateDl:t}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript13"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.wap.at.load | Adobe Target [AT] > Monitoring | Capture Kiwi DDL USER CBWEB TYPE";try{var checkNested=function(e){for(var a=Array.prototype.slice.call(arguments,1),t=0;t<a.length;t++){if(!e||!e.hasOwnProperty(a[t]))return!1;e=e[a[t]]}return!0},cnt=100,dataLayerLoaded="",init=function(){"undefined"!=typeof kiwi&&(dataLayerLoaded=checkNested(kiwi,"ddl","userData","cbWeb","type"))?(gradYear=window.btoa(window.btoa(kiwi.ddl.userData.cbWeb.gradYear)),jobTitle=window.btoa(window.btoa(kiwi.ddl.userData.cbWeb.jobTitle)),ddlUserType=window.btoa(window.btoa(kiwi.ddl.userData.cbWeb.type)),adobe.target.trackEvent({mbox:"capture_ddl",params:{"profile.ddlUserType":ddlUserType,"profile.gradYear":gradYear,"profile.jobTitle":jobTitle}})):(cnt-=1)>0&&setTimeout(init,500)};init()}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript14"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.tech.nr | New Relic [NR]";try{var nrConfig=_satellite.getVar("AA-Settings | Tags | Configurations | New Relic [NR]");if(nrConfig.subdomains&&nrConfig.subdomains[document.location.hostname]){var nrOptions={env:"prod",rate:1,licenseKey:"",appId:""};if(nrOptions.env=window.cbEnv||nrOptions.env,nrOptions.env.match(/(dev|qa|uat|perf|prod)/i)||(nrOptions.env=window.cbEnvLower?"dev":nrOptions.env),nrOptions.env=nrConfig.subdomains[document.location.hostname].default_env||nrOptions.env,nrOptions.appId=nrConfig.subdomains[document.location.hostname].default_id||nrOptions.appId,nrOptions.appId.length<1&&nrConfig.subdomains[document.location.hostname][nrOptions.env]&&(nrOptions.appId=nrConfig.subdomains[document.location.hostname][nrOptions.env].id||nrOptions.appId),nrOptions.appId.length>0){nrConfig.default_sampling_rate&&(nrOptions.rate=nrConfig.default_sampling_rate[nrOptions.env]||nrOptions.rate),nrOptions.rate=nrConfig.subdomains[document.location.hostname].default_sampling_rate||nrOptions.rate,nrConfig.subdomains[document.location.hostname][nrOptions.env]&&(nrOptions.rate=nrConfig.subdomains[document.location.hostname][nrOptions.env].sampling_rate||nrOptions.rate),nrConfig.license_key&&(nrOptions.licenseKey=nrConfig.license_key[nrOptions.env]||nrOptions.licenseKey);try{var loadPixel=!1;if(1===nrOptions.rate)loadPixel=!0;else{var re_sampled=new RegExp("nr_sampled_(0|1)"+document.location.hostname,"i"),re_sampled_0=new RegExp("nr_sampled_0"+document.location.hostname,"i"),re_sampled_1=new RegExp("nr_sampled_1"+document.location.hostname,"i"),nr_sampled=document.cookie.match(re_sampled)||0,nr_sampled_0=document.cookie.match(re_sampled_0)||0,nr_sampled_1=document.cookie.match(re_sampled_1)||0,m=Math.floor(nrOptions.rate*Math.random())+1;(nr_sampled_1||!nr_sampled&&1>=m)&&(loadPixel=!0)}_satellite.logger.info(ruleName+" > nrOptions: "+JSON.stringify(nrOptions)),loadPixel?(window.NREUM||(NREUM={}),__nr_require=function(n,e,t){function r(t){if(!e[t]){var o=e[t]={exports:{}};n[t][0].call(o.exports,(function(e){return r(n[t][1][e]||e)}),o,o.exports)}return e[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(n){function e(n){try{i.console&&console.log(n)}catch(n){}}var t,r=n("ee"),o=n(23),i={};try{t=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(i.console=!0,-1!==t.indexOf("dev")&&(i.dev=!0),-1!==t.indexOf("nr_dev")&&(i.nrDev=!0))}catch(n){}i.nrDev&&r.on("internal-error",(function(n){e(n.stack)})),i.dev&&r.on("fn-err",(function(n,t,r){e(r.stack)})),i.dev&&(e("NR AGENT IN DEVELOPMENT MODE"),e("flags: "+o(i,(function(n){return n})).join(", ")))},{}],2:[function(n){function e(n,e,a,c,f){try{d?d-=1:r(f||new t(n,e,a),!0)}catch(n){try{o("ierr",[n,s.now(),!0])}catch(n){}}return"function"==typeof u&&u.apply(this,i(arguments))}function t(n,e,t){this.message=n||"Uncaught error with no additional information",this.sourceURL=e,this.line=t}function r(n,e){var t=e?null:s.now();o("err",[n,t])}var o=n("handle"),i=n(24),a=n("ee"),s=n("loader"),c=n("gos"),u=window.onerror,f=!1,l="nr@seenError",d=0;s.features.err=!0,n(1),window.onerror=e;try{throw new Error}catch(e){"stack"in e&&(n(13),n(12),"addEventListener"in window&&n(6),s.xhrWrappable&&n(14),f=!0)}a.on("fn-start",(function(){f&&(d+=1)})),a.on("fn-err",(function(n,e,t){f&&!t[l]&&(c(t,l,(function(){return!0})),this.thrown=!0,r(t))})),a.on("fn-end",(function(){f&&!this.thrown&&d>0&&(d-=1)})),a.on("internal-error",(function(n){o("ierr",[n,s.now(),!0])}))},{}],3:[function(n){n("loader").features.ins=!0},{}],4:[function(n){function e(){T++,P=v.hash,this[c]=g.now()}function t(){T--,v.hash!==P&&r(0,!0);var n=g.now();this[d]=~~this[d]+n-this[c],this[u]=n}function r(n,e){x.emit("newURL",[""+v,e])}function o(n,e){n.on(e,(function(){this[e]=g.now()}))}var i="-start",a="-end",s="-body",c="fn"+i,u="fn"+a,f="cb"+i,l="cb"+a,d="jsTime",p="fetch",h="addEventListener",m=window,v=m.location,g=n("loader");if(m[h]&&g.xhrWrappable){var w=n(10),y=n(11),x=n(8),b=n(6),O=n(13),E=n(7),_=n(14),R=n(9),C=n("ee"),N=C.get("tracer");n(16),g.features.spa=!0;var P,T=0;C.on(c,e),C.on(f,e),C.on(u,t),C.on(l,t),C.buffer([c,u,"xhr-done","xhr-resolved"]),b.buffer([c]),O.buffer(["setTimeout"+a,"clearTimeout"+i,c]),_.buffer([c,"new-xhr","send-xhr"+i]),E.buffer([p+i,p+"-done",p+s+i,p+s+a]),x.buffer(["newURL"]),w.buffer([c]),y.buffer(["propagate",f,l,"executor-err","resolve"+i]),N.buffer([c,"no-"+c]),R.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),o(_,"send-xhr"+i),o(C,"xhr-resolved"),o(C,"xhr-done"),o(E,p+i),o(E,p+"-done"),o(R,"new-jsonp"),o(R,"jsonp-end"),o(R,"cb-start"),x.on("pushState-end",r),x.on("replaceState-end",r),m[h]("hashchange",r,!0),m[h]("load",r,!0),m[h]("popstate",(function(){r(0,T>1)}),!0)}},{}],5:[function(n){function e(){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var t=n("ee"),r=n("handle"),o=n(13),i=n(12),a="learResourceTimings",s="addEventListener",c="resourcetimingbufferfull",u="bstResource",f="resource",l="-start",d="-end",p="fn"+l,h="fn"+d,m="bstTimer",v="pushState",g=n("loader");g.features.stn=!0,n(8);var w=NREUM.o.EV;t.on(p,(function(n){n[0]instanceof w&&(this.bstStart=g.now())})),t.on(h,(function(n,e){var t=n[0];t instanceof w&&r("bst",[t,e,this.bstStart,g.now()])})),o.on(p,(function(n,e,t){this.bstStart=g.now(),this.bstType=t})),o.on(h,(function(n,e){r(m,[e,this.bstStart,g.now(),this.bstType])})),i.on(p,(function(){this.bstStart=g.now()})),i.on(h,(function(n,e){r(m,[e,this.bstStart,g.now(),"requestAnimationFrame"])})),t.on(v+l,(function(){this.time=g.now(),this.startPath=location.pathname+location.hash})),t.on(v+d,(function(){r("bstHist",[location.pathname+location.hash,this.startPath,this.time])})),s in window.performance&&(window.performance["c"+a]?window.performance[s](c,(function(){r(u,[window.performance.getEntriesByType(f)]),window.performance["c"+a]()}),!1):window.performance[s]("webkit"+c,(function(){r(u,[window.performance.getEntriesByType(f)]),window.performance["webkitC"+a]()}),!1)),document[s]("scroll",e,{passive:!0}),document[s]("keypress",e,!1),document[s]("click",e,!1)}},{}],6:[function(n,e){function t(n){for(var e=n;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&r(e)}function r(n){a.inPlace(n,[u,f],"-",o)}function o(n){return n[1]}var i=n("ee").get("events"),a=n(26)(i,!0),s=n("gos"),c=XMLHttpRequest,u="addEventListener",f="removeEventListener";e.exports=i,"getPrototypeOf"in Object?(t(document),t(window),t(c.prototype)):c.prototype.hasOwnProperty(u)&&(r(window),r(c.prototype)),i.on(u+"-start",(function(n){var e=n[1],t=s(e,"nr@wrapped",(function(){function n(){if("function"==typeof e.handleEvent)return e.handleEvent.apply(e,arguments)}var t={object:n,function:e}[typeof e];return t?a(t,"fn-",null,t.name||"anonymous"):e}));this.wrapped=n[1]=t})),i.on(f+"-start",(function(n){n[1]=this.wrapped||n[1]}))},{}],7:[function(n,e){function t(n,e,t){var o=n[e];"function"==typeof o&&(n[e]=function(){var n=o.apply(this,arguments);return r.emit(t+"start",arguments,n),n.then((function(e){return r.emit(t+"end",[null,e],n),e}),(function(e){throw r.emit(t+"end",[e],n),e}))})}var r=n("ee").get("fetch"),o=n(23);e.exports=r;var i=window,a="fetch-",s=a+"body-",c=["arrayBuffer","blob","json","text","formData"],u=i.Request,f=i.Response,l=i.fetch,d="prototype";u&&f&&l&&(o(c,(function(n,e){t(u[d],e,s),t(f[d],e,s)})),t(i,"fetch",a),r.on(a+"end",(function(n,e){var t=this;if(e){var o=e.headers.get("content-length");null!==o&&(t.rxSize=o),r.emit(a+"done",[null,e],t)}else r.emit(a+"done",[n],t)})))},{}],8:[function(n,e){var t=n("ee").get("history"),r=n(26)(t);e.exports=t,r.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(n,e){function t(n){function e(){s.emit("jsonp-end",[],u),n.removeEventListener("load",e,!1),n.removeEventListener("error",t,!1)}function t(){s.emit("jsonp-error",[],u),s.emit("jsonp-end",[],u),n.removeEventListener("load",e,!1),n.removeEventListener("error",t,!1)}if(n&&"string"==typeof n.nodeName&&"script"===n.nodeName.toLowerCase()&&"function"==typeof n.addEventListener){var r=o(n.src);if(r){var i=a(r);if("function"==typeof i.parent[i.key]){var u={};c.inPlace(i.parent,[i.key],"cb-",u),n.addEventListener("load",e,!1),n.addEventListener("error",t,!1),s.emit("new-jsonp",[n.src],u)}}}}function r(){return"addEventListener"in window}function o(n){var e=n.match(u);return e?e[1]:null}function i(n,e){var t=n.match(l),r=t[1],o=t[3];return o?i(o,e[r]):e[r]}function a(n){var e=n.match(f);return e&&e.length>=3?{key:e[2],parent:i(e[1],window)}:{key:n,parent:window}}var s=n("ee").get("jsonp"),c=n(26)(s);if(e.exports=s,r()){var u=/[?&](?:callback|cb)=([^&#]+)/,f=/(.*)\.([^.]+)/,l=/^(\w+)(\.|$)(.*)$/,d=["appendChild","insertBefore","replaceChild"];c.inPlace(HTMLElement.prototype,d,"dom-"),c.inPlace(HTMLHeadElement.prototype,d,"dom-"),c.inPlace(HTMLBodyElement.prototype,d,"dom-"),s.on("dom-start",(function(n){t(n[0])}))}},{}],10:[function(n,e){var t=n("ee").get("mutation"),r=n(26)(t),o=NREUM.o.MO;e.exports=t,o&&(window.MutationObserver=function(n){return this instanceof o?new o(r(n,"fn-")):o.apply(this,arguments)},MutationObserver.prototype=o.prototype)},{}],11:[function(n,e){function t(n){var e=i.context(),t=a(n,"executor-",e),r=new c(t);return i.context(r).getCtx=function(){return e},i.emit("new-promise",[r,e],e),r}function r(n,e){return e}var o=n(26),i=n("ee").get("promise"),a=o(i),s=n(23),c=NREUM.o.PR;e.exports=i,c&&(window.Promise=t,["all","race"].forEach((function(n){var e=c[n];c[n]=function(t){function r(n){return function(){i.emit("propagate",[null,!o],a),o=o||!n}}var o=!1;s(t,(function(e,t){Promise.resolve(t).then(r("all"===n),r(!1))}));var a=e.apply(c,arguments);return c.resolve(a)}})),["resolve","reject"].forEach((function(n){var e=c[n];c[n]=function(n){var t=e.apply(c,arguments);return n!==t&&i.emit("propagate",[n,!0],t),t}})),c.prototype.catch=function(n){return this.then(null,n)},c.prototype=Object.create(c.prototype,{constructor:{value:t}}),s(Object.getOwnPropertyNames(c),(function(n,e){try{t[e]=c[e]}catch(n){}})),i.on("executor-start",(function(n){n[0]=a(n[0],"resolve-",this),n[1]=a(n[1],"resolve-",this)})),i.on("executor-err",(function(n,e,t){n[1](t)})),a.inPlace(c.prototype,["then"],"then-",r),i.on("then-start",(function(n,e){this.promise=e,n[0]=a(n[0],"cb-",this),n[1]=a(n[1],"cb-",this)})),i.on("then-end",(function(n,e,t){this.nextPromise=t;var r=this.promise;i.emit("propagate",[r,!0],t)})),i.on("cb-end",(function(n,e,t){i.emit("propagate",[t,!0],this.nextPromise)})),i.on("propagate",(function(n,e){this.getCtx&&!e||(this.getCtx=function(){if(n instanceof Promise)var e=i.context(n);return e&&e.getCtx?e.getCtx():this})})),t.toString=function(){return""+c})},{}],12:[function(n,e){var t=n("ee").get("raf"),r=n(26)(t),o="equestAnimationFrame";e.exports=t,r.inPlace(window,["r"+o,"mozR"+o,"webkitR"+o,"msR"+o],"raf-"),t.on("raf-start",(function(n){n[0]=r(n[0],"fn-")}))},{}],13:[function(n,e){function t(n,e,t){n[0]=i(n[0],"fn-",null,t)}function r(n,e,t){this.method=t,this.timerDuration=isNaN(n[1])?0:+n[1],n[0]=i(n[0],"fn-",this,t)}var o=n("ee").get("timer"),i=n(26)(o),a="setTimeout",s="setInterval",c="clearTimeout",u="-start",f="-";e.exports=o,i.inPlace(window,[a,"setImmediate"],a+f),i.inPlace(window,[s],s+f),i.inPlace(window,[c,"clearImmediate"],c+f),o.on(s+u,t),o.on(a+u,r)},{}],14:[function(n,e){function t(n,e){f.inPlace(e,["onreadystatechange"],"fn-",a)}function r(){var n=this,e=u.context(n);n.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],n)),f.inPlace(n,g,"fn-",a)}function o(n){w.push(n),p&&(x?x.then(i):m?m(i):(b=-b,O.data=b))}function i(){for(var n=0;n<w.length;n++)t([],w[n]);w.length&&(w=[])}function a(n,e){return e}function s(n,e){for(var t in n)e[t]=n[t];return e}n(6);var c=n("ee"),u=c.get("xhr"),f=n(26)(u),l=NREUM.o,d=l.XHR,p=l.MO,h=l.PR,m=l.SI,v="readystatechange",g=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],w=[];e.exports=u;var y=window.XMLHttpRequest=function(n){var e=new d(n);try{u.emit("new-xhr",[e],e),e.addEventListener(v,r,!1)}catch(n){try{u.emit("internal-error",[n])}catch(n){}}return e};if(s(d,y),y.prototype=d.prototype,f.inPlace(y.prototype,["open","send"],"-xhr-",a),u.on("send-xhr-start",(function(n,e){t(n,e),o(e)})),u.on("open-xhr-start",t),p){var x=h&&h.resolve();if(!m&&!h){var b=1,O=document.createTextNode(b);new p(i).observe(O,{characterData:!0})}}else c.on("fn-end",(function(n){n[0]&&n[0].type===v||i()}))},{}],15:[function(n,e){function t(){var n=window.NREUM,e=n.info.accountID||null,t=n.info.agentID||null,o=n.info.trustKey||null,i="btoa"in window&&"function"==typeof window.btoa;if(!e||!t||!i)return null;var a={v:[0,1],d:{ty:"Browser",ac:e,ap:t,id:r.generateCatId(),tr:r.generateCatId(),ti:Date.now()}};return o&&e!==o&&(a.d.tk=o),btoa(JSON.stringify(a))}var r=n(21);e.exports={generateTraceHeader:t}},{}],16:[function(n){function e(n){var e=this.params,t=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<l;r++)n.removeEventListener(f[r],this.listener,!1);e.aborted||(t.duration=i.now()-this.startTime,this.loadCaptureCalled||4!==n.readyState?null==e.status&&(e.status=0):o(this,n),t.cbTime=this.cbTime,u.emit("xhr-done",[n],n),a("xhr",[e,t,this.startTime]))}}function t(n,e){var t=n.responseType;if("json"===t&&null!==e)return e;var r="arraybuffer"===t||"blob"===t||"json"===t?n.response:n.responseText;return h(r)}function r(n,e){var t=s(e),r=n.params;r.host=t.hostname+":"+t.port,r.pathname=t.pathname,n.sameOrigin=t.sameOrigin}function o(n,e){n.params.status=e.status;var r=t(e,n.lastSize);if(r&&(n.metrics.rxSize=r),n.sameOrigin){var o=e.getResponseHeader("X-NewRelic-App-Data");o&&(n.params.cat=o.split(", ").pop())}n.loadCaptureCalled=!0}var i=n("loader");if(i.xhrWrappable){var a=n("handle"),s=n(17),c=n(15).generateTraceHeader,u=n("ee"),f=["load","error","abort","timeout"],l=f.length,d=n("id"),p=n(20),h=n(19),m=window.XMLHttpRequest;i.features.xhr=!0,n(14),u.on("new-xhr",(function(n){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=e,t.ended=!1,t.xhrGuids={},t.lastSize=null,t.loadCaptureCalled=!1,n.addEventListener("load",(function(){o(t,n)}),!1),p&&(p>34||p<10)||window.opera||n.addEventListener("progress",(function(n){t.lastSize=n.loaded}),!1)})),u.on("open-xhr-start",(function(n){this.params={method:n[0]},r(this,n[1]),this.metrics={}})),u.on("open-xhr-end",(function(n,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid);var t=!1;if("init"in NREUM&&"distributed_tracing"in NREUM.init&&(t=!!NREUM.init.distributed_tracing.enabled),t&&this.sameOrigin){var r=c();r&&e.setRequestHeader("newrelic",r)}})),u.on("send-xhr-start",(function(n,e){var t=this.metrics,r=n[0],o=this;if(t&&r){var a=h(r);a&&(t.txSize=a)}this.startTime=i.now(),this.listener=function(n){try{"abort"!==n.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==n.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{u.emit("internal-error",[n])}catch(n){}}};for(var s=0;s<l;s++)e.addEventListener(f[s],this.listener,!1)})),u.on("xhr-cb-time",(function(n,e,t){this.cbTime+=n,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof t.onload||this.end(t)})),u.on("xhr-load-added",(function(n,e){var t=""+d(n)+!!e;this.xhrGuids&&!this.xhrGuids[t]&&(this.xhrGuids[t]=!0,this.totalCbs+=1)})),u.on("xhr-load-removed",(function(n,e){var t=""+d(n)+!!e;this.xhrGuids&&this.xhrGuids[t]&&(delete this.xhrGuids[t],this.totalCbs-=1)})),u.on("addEventListener-end",(function(n,e){e instanceof m&&"load"===n[0]&&u.emit("xhr-load-added",[n[1],n[2]],e)})),u.on("removeEventListener-end",(function(n,e){e instanceof m&&"load"===n[0]&&u.emit("xhr-load-removed",[n[1],n[2]],e)})),u.on("fn-start",(function(n,e,t){e instanceof m&&("onload"===t&&(this.onload=!0),("load"===(n[0]&&n[0].type)||this.onload)&&(this.xhrCbStart=i.now()))})),u.on("fn-end",(function(n,e){this.xhrCbStart&&u.emit("xhr-cb-time",[i.now()-this.xhrCbStart,this.onload,e],e)}))}},{}],17:[function(n,e){e.exports=function(n){var e=document.createElement("a"),t=window.location,r={};e.href=n,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||t.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===t.protocol,a=e.hostname===document.domain&&e.port===t.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],18:[function(n,e){function t(){}function r(n,e,t){return function(){return o(n,[c.now()].concat(a(arguments)),e?null:this,t),e?void 0:this}}var o=n("handle"),i=n(23),a=n(24),s=n("ee").get("tracer"),c=n("loader"),u=NREUM;void 0===window.newrelic&&(newrelic=u);var f="api-",l=f+"ixn-";i(["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],(function(n,e){u[e]=r(f+e,!0,"api")})),u.addPageAction=r(f+"addPageAction",!0),u.setCurrentRouteName=r(f+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new t).get()};var d=t.prototype={createTracer:function(n,e){var t={},r=this,i="function"==typeof e;return o(l+"tracer",[c.now(),n,t],r),function(){if(s.emit((i?"":"no-")+"fn-start",[c.now(),r,i],t),i)try{return e.apply(this,arguments)}catch(n){throw s.emit("fn-err",[arguments,this,n],t),n}finally{s.emit("fn-end",[c.now()],t)}}}};i("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),(function(n,e){d[e]=r(l+e)})),newrelic.noticeError=function(n,e){"string"==typeof n&&(n=new Error(n)),o("err",[n,c.now(),!1,e])}},{}],19:[function(n,e){e.exports=function(n){if("string"==typeof n&&n.length)return n.length;if("object"==typeof n){if("undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer&&n.byteLength)return n.byteLength;if("undefined"!=typeof Blob&&n instanceof Blob&&n.size)return n.size;if(!("undefined"!=typeof FormData&&n instanceof FormData))try{return JSON.stringify(n).length}catch(n){return}}}},{}],20:[function(n,e){var t=0,r=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);r&&(t=+r[1]),e.exports=t},{}],21:[function(n,e){function t(){function n(){return e?15&e[t++]:16*Math.random()|0}var e=null,t=0,r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(e=r.getRandomValues(new Uint8Array(31)));for(var o,i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",a="",s=0;s<i.length;s++)"x"===(o=i[s])?a+=n().toString(16):"y"===o?a+=(o=3&n()|8).toString(16):a+=o;return a}function r(){function n(){return e?15&e[t++]:16*Math.random()|0}var e=null,t=0,r=window.crypto||window.msCrypto;r&&r.getRandomValues&&Uint8Array&&(e=r.getRandomValues(new Uint8Array(31)));for(var o=[],i=0;i<16;i++)o.push(n().toString(16));return o.join("")}e.exports={generateUuid:t,generateCatId:r}},{}],22:[function(n,e){function t(n,e){if(!r)return!1;if(n!==r)return!1;if(!e)return!0;if(!o)return!1;for(var t=o.split("."),i=e.split("."),a=0;a<i.length;a++)if(i[a]!==t[a])return!1;return!0}var r=null,o=null,i=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var a=navigator.userAgent,s=a.match(i);s&&-1===a.indexOf("Chrome")&&-1===a.indexOf("Chromium")&&(r="Safari",o=s[1])}e.exports={agent:r,version:o,match:t}},{}],23:[function(n,e){function t(n,e){var t=[],o="",i=0;for(o in n)r.call(n,o)&&(t[i]=e(o,n[o]),i+=1);return t}var r=Object.prototype.hasOwnProperty;e.exports=t},{}],24:[function(n,e){function t(n,e,t){e||(e=0),void 0===t&&(t=n?n.length:0);for(var r=-1,o=t-e||0,i=Array(o<0?0:o);++r<o;)i[r]=n[e+r];return i}e.exports=t},{}],25:[function(n,e){e.exports={exists:void 0!==window.performance&&window.performance.timing&&void 0!==window.performance.timing.navigationStart}},{}],26:[function(n,e){function t(n){return!(n&&n instanceof Function&&n.apply&&!n[i])}var r=n("ee"),o=n(24),i="nr@original",a=Object.prototype.hasOwnProperty,s=!1;e.exports=function(n,e){function c(n,e,r,a){function s(){var t,i,s,c;try{i=this,t=o(arguments),s="function"==typeof r?r(t,i):r||{}}catch(n){d([n,"",[t,i,a],s])}f(e+"start",[t,i,a],s);try{return c=n.apply(i,t)}catch(n){throw f(e+"err",[t,i,n],s),n}finally{f(e+"end",[t,i,c],s)}}return t(n)?n:(e||(e=""),s[i]=n,l(n,s),s)}function u(n,e,r,o){r||(r="");var i,a,s,u="-"===r.charAt(0);for(s=0;s<e.length;s++)t(i=n[a=e[s]])||(n[a]=c(i,u?a+r:r,o,a))}function f(t,r,o){if(!s||e){var i=s;s=!0;try{n.emit(t,r,o,e)}catch(n){d([n,t,r,o])}s=i}}function l(n,e){if(Object.defineProperty&&Object.keys)try{return Object.keys(n).forEach((function(t){Object.defineProperty(e,t,{get:function(){return n[t]},set:function(e){return n[t]=e,e}})})),e}catch(n){d([n])}for(var t in n)a.call(n,t)&&(e[t]=n[t]);return e}function d(e){try{n.emit("internal-error",e)}catch(n){}}return n||(n=r),c.inPlace=u,c.flag=i,c}},{}],ee:[function(n,e){function t(){}function r(n){function e(n){return n&&n instanceof t?n:n?s(n,a,o):o()}function d(t,r,o,i){if(!l.aborted||i){n&&n(t,r,o);for(var a=e(o),s=m(t),c=s.length,f=0;f<c;f++)s[f].apply(a,r);var d=u[y[t]];return d&&d.push([x,t,r,a]),a}}function p(n,e){w[n]=m(n).concat(e)}function h(n,e){var t=w[n];if(t)for(var r=0;r<t.length;r++)t[r]===e&&t.splice(r,1)}function m(n){return w[n]||[]}function v(n){return f[n]=f[n]||r(d)}function g(n,e){c(n,(function(n,t){e=e||"feature",y[t]=e,e in u||(u[e]=[])}))}var w={},y={},x={on:p,addEventListener:p,removeEventListener:h,emit:d,get:v,listeners:m,context:e,buffer:g,abort:i,aborted:!1};return x}function o(){return new t}function i(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var a="nr@context",s=n("gos"),c=n(23),u={},f={},l=e.exports=r();l.backlog=u},{}],gos:[function(n,e){function t(n,e,t){if(r.call(n,e))return n[e];var o=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(n,e,{value:o,writable:!0,enumerable:!1}),o}catch(n){}return n[e]=o,o}var r=Object.prototype.hasOwnProperty;e.exports=t},{}],handle:[function(n,e){function t(n,e,t,o){r.buffer([n],o),r.emit(n,e,t)}var r=n("ee").get("handle");e.exports=t,t.ee=r},{}],id:[function(n,e){function t(n){var e=typeof n;return!n||"object"!==e&&"function"!==e?-1:n===window?0:i(n,o,(function(){return r++}))}var r=1,o="nr@id",i=n("gos");e.exports=t},{}],loader:[function(n,e){function t(){if(!b++){var n=x.info=NREUM.info,e=d.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(n&&n.licenseKey&&n.applicationID&&e))return u.abort();c(w,(function(e,t){n[e]||(n[e]=t)})),s("mark",["onload",i()+x.offset],null,"api");var t=d.createElement("script");t.src="https://"+n.agent,e.parentNode.insertBefore(t,e)}}function r(){"complete"===d.readyState&&o()}function o(){s("mark",["domContent",i()+x.offset],null,"api")}function i(){return O.exists&&performance.now?Math.round(performance.now()):(a=Math.max((new Date).getTime(),a))-x.offset}var a=(new Date).getTime(),s=n("handle"),c=n(23),u=n("ee"),f=n(22),l=window,d=l.document,p="addEventListener",h="attachEvent",m=l.XMLHttpRequest,v=m&&m.prototype;NREUM.o={ST:setTimeout,SI:l.setImmediate,CT:clearTimeout,XHR:m,REQ:l.Request,EV:l.Event,PR:l.Promise,MO:l.MutationObserver};var g=""+location,w={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1123.min.js"},y=m&&v&&v[p]&&!/CriOS/.test(navigator.userAgent),x=e.exports={offset:a,now:i,origin:g,features:{},xhrWrappable:y,userAgent:f};n(18),d[p]?(d[p]("DOMContentLoaded",o,!1),l[p]("load",t,!1)):(d[h]("onreadystatechange",r),l[h]("onload",t)),s("mark",["firstbyte",a],null,"api");var b=0,O=n(25)},{}]},{},["loader",2,16,5,3,4]),NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:nrOptions.licenseKey,applicationID:nrOptions.appId,sa:1},1===nrOptions.rate?_satellite.logger.info(ruleName+" > Beacon loaded! (no sampling needed)"):nr_sampled_1?_satellite.notify(ruleName+" > Beacon loaded! (already in session)"):(document.cookie="nr_sampled_1"+document.location.hostname+";path=/ ",_satellite.logger.info(ruleName+" > Beacon loaded! (new session sampled in; sample value: "+m+")"))):nr_sampled_0?_satellite.logger.info(ruleName+" > Beacon not loaded (already sampled out)"):(document.cookie="nr_sampled_0"+document.location.hostname+";path=/ ",_satellite.logger.info(ruleName+" > Beacon not loaded (sampled out; sample value: "+m+")"))}catch(n){_satellite.logger.error(ruleName+" > Beacon not loaded :: "+n.message)}}}else _satellite.logger.info(ruleName+" > Beacon not loaded (no ID configured for "+document.location.hostname+").")}catch(n){_satellite.logger.error(ruleName+" > ERROR: "+n.message)}
});</script><script>_satellite["_runScript15"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript16"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript17"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><div class="hyperweb-notification-container" style="visibility: visible; display: block;"></div><div id="onetrust-consent-sdk"><div class="onetrust-pc-dark-filter ot-hide ot-fade-in"></div><div id="onetrust-pc-sdk" class="otPcCenter ot-hide ot-fade-in" lang="en" aria-label="Preference center" role="region"><div role="alertdialog" aria-modal="true" aria-describedby="ot-pc-desc" style="height: 100%;" aria-label="Privacy Preference Center"><!-- Close Button --><div class="ot-pc-header"><!-- Logo Tag --><div class="ot-pc-logo" role="img" aria-label="Company Logo"><img alt="Company Logo" src="https://cdn.cookielaw.org/logos/65a38c3f-4f1f-4acc-9e16-9a9cd7f86053/590c270b-d515-47ae-bbf8-a89440cb8a53/7d41f991-7471-407c-baf2-c567c0c26233/cb-logo2.png"></div><button id="close-pc-btn-handler" class="ot-close-icon" aria-label="Close" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/static/ot_close.svg&quot;);"></button></div><!-- Close Button --><div id="ot-pc-content" class="ot-pc-scrollbar"><div class="ot-optout-signal ot-hide"><div class="ot-optout-icon"><svg xmlns="http://www.w3.org/2000/svg"><path class="ot-floating-button__svg-fill" d="M14.588 0l.445.328c1.807 1.303 3.961 2.533 6.461 3.688 2.015.93 4.576 1.746 7.682 2.446 0 14.178-4.73 24.133-14.19 29.864l-.398.236C4.863 30.87 0 20.837 0 6.462c3.107-.7 5.668-1.516 7.682-2.446 2.709-1.251 5.01-2.59 6.906-4.016zm5.87 13.88a.75.75 0 00-.974.159l-5.475 6.625-3.005-2.997-.077-.067a.75.75 0 00-.983 1.13l4.172 4.16 6.525-7.895.06-.083a.75.75 0 00-.16-.973z" fill="#FFF" fill-rule="evenodd"></path></svg></div><span></span></div><h2 id="ot-pc-title">Privacy Preference Center</h2><div id="ot-pc-desc">When you visit any website, it may store or retrieve information on your browser, mostly in the form of cookies. This information might be about you, your preferences or your device and is mostly used to make the site work as you expect it to. The information does not usually directly identify you, but it can give you a more personalized web experience. Because we respect your right to privacy, you can choose not to allow some types of cookies. Click on the different category headings to find out more and change our default settings. However, blocking some types of cookies may impact your experience of the site and the services we are able to offer.
            <br><a href="https://cookiepedia.co.uk/giving-consent-to-cookies" class="privacy-notice-link" rel="noopener" target="_blank" aria-label="More information about your privacy, opens in a new tab">More information</a></div><button id="accept-recommended-btn-handler">Allow All</button><section class="ot-sdk-row ot-cat-grp"><h3 id="ot-category-title"> Manage Consent Preferences</h3><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0001"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0001" aria-labelledby="ot-header-id-C0001"></button><!-- Accordion header --><div class="ot-acc-hdr ot-always-active-group"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0001">Strictly Necessary Cookies</h4><div class="ot-always-active">Always Active</div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0001">These cookies are necessary for the website to function and cannot be switched off in our systems. They are usually only set in response to actions made by you which amount to a request for services, such as setting your privacy preferences, logging in or filling in forms. &nbsp; &nbsp;You can set your browser to block or alert you about these cookies, but some parts of the site will not then work. These cookies do not store any personally identifiable information (PII).</p></div></div><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0002"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0002" aria-labelledby="ot-header-id-C0002"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0002">Performance Cookies</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-C0002" id="ot-group-id-C0002" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="C0002" checked="" aria-labelledby="ot-header-id-C0002"> <label class="ot-switch" for="ot-group-id-C0002"><span class="ot-switch-nob" aria-checked="false" role="switch"></span> <span class="ot-label-txt">Performance Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0002">These cookies allow us to track visits and traffic sources so we can measure and improve the performance of our site. They help us to know which pages are the most and least popular and see how visitors move around the site. &nbsp; &nbsp;All information these cookies collect is aggregated and therefore anonymous. If you do not allow these cookies we will not know when you have visited our site, and will not be able to monitor its performance.</p></div></div><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0003"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0003" aria-labelledby="ot-header-id-C0003"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0003">Functional Cookies</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-C0003" id="ot-group-id-C0003" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="C0003" checked="" aria-labelledby="ot-header-id-C0003"> <label class="ot-switch" for="ot-group-id-C0003"><span class="ot-switch-nob" aria-checked="false" role="switch"></span> <span class="ot-label-txt">Functional Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0003">These cookies enable the website to provide enhanced functionality and personalisation. They may be set by us or by third party providers whose services we have added to our pages. &nbsp; &nbsp;If you do not allow these cookies then some or all of these services may not function properly.</p></div></div><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0004"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0004" aria-labelledby="ot-header-id-C0004"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0004">Marketing Cookies</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-C0004" id="ot-group-id-C0004" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="C0004" checked="" aria-labelledby="ot-header-id-C0004"> <label class="ot-switch" for="ot-group-id-C0004"><span class="ot-switch-nob" aria-checked="false" role="switch"></span> <span class="ot-label-txt">Marketing Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0004">These cookies may be set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant advertising from College Board on other sites. &nbsp; &nbsp;They do not store directly personal information, but are based on uniquely identifying your browser and internet device. If you do not allow these cookies, you will experience less targeted advertising.

<div><br></div><div>In addition, you have the right to request College Board to delete your personally identifiable information, with further information including how to submit a request for deletion available in College Board’s Privacy Statement at <a style="color: rgb(50, 77, 199);" href="https://privacy.collegeboard.org/privacy-statement">https://privacy.collegeboard.org/privacy-statement</a>.</div></p></div></div><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0005"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0005" aria-labelledby="ot-header-id-C0005"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0005">Social Media Cookies</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-C0005" id="ot-group-id-C0005" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="C0005" checked="" aria-labelledby="ot-header-id-C0005"> <label class="ot-switch" for="ot-group-id-C0005"><span class="ot-switch-nob" aria-checked="false" role="switch"></span> <span class="ot-label-txt">Social Media Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0005">These cookies are set by a range of social media services that we have added to the site to enable you to share our content with your friends and networks. They are capable of tracking your browser across other sites and building up a profile of your interests. This may impact the content and messages you see on other websites you visit. &nbsp; &nbsp;If you do not allow these cookies you may not be able to use or see these sharing tools.</p></div></div><!-- Groups sections starts --><!-- Group section ends --><!-- Accordion Group section starts --><!-- Accordion Group section ends --></section></div><section id="ot-pc-lst" class="ot-hide ot-hosts-ui ot-pc-scrollbar"><div id="ot-pc-hdr"><div id="ot-lst-title"><button class="ot-link-btn back-btn-handler" aria-label="Back"><svg id="ot-back-arw" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 444.531 444.531" xml:space="preserve"><title>Back Button</title><g><path fill="#656565" d="M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835
                    l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425
                    c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564
                    s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978
                    L213.13,222.409z"></path></g></svg></button><h3>Cookie List</h3></div><div class="ot-lst-subhdr"><div class="ot-search-cntr"><p role="status" class="ot-scrn-rdr"></p><input id="vendor-search-handler" type="text" name="vendor-search-handler" placeholder="Search…" aria-label="Cookie list search"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 -30 110 110" aria-hidden="true"><title>Search Icon</title><path fill="#2e3644" d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
            s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
            c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
            s-17-7.626-17-17S14.61,6,23.984,6z"></path></svg></div><div class="ot-fltr-cntr"><button id="filter-btn-handler" aria-label="Filter" aria-haspopup="true"><svg role="presentation" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 402.577 402.577" xml:space="preserve"><title>Filter Icon</title><g><path fill="#fff" d="M400.858,11.427c-3.241-7.421-8.85-11.132-16.854-11.136H18.564c-7.993,0-13.61,3.715-16.846,11.136
      c-3.234,7.801-1.903,14.467,3.999,19.985l140.757,140.753v138.755c0,4.955,1.809,9.232,5.424,12.854l73.085,73.083
      c3.429,3.614,7.71,5.428,12.851,5.428c2.282,0,4.66-0.479,7.135-1.43c7.426-3.238,11.14-8.851,11.14-16.845V172.166L396.861,31.413
      C402.765,25.895,404.093,19.231,400.858,11.427z"></path></g></svg></button></div><div id="ot-anchor"></div><section id="ot-fltr-modal"><div id="ot-fltr-cnt"><button id="clear-filters-handler">Clear</button><div class="ot-fltr-scrlcnt ot-pc-scrollbar"><div class="ot-fltr-opts"><div class="ot-fltr-opt"><div class="ot-chkbox"><input id="chkbox-id" type="checkbox" aria-checked="false" class="category-filter-handler"> <label for="chkbox-id"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div><div class="ot-fltr-btns"><button id="filter-apply-handler">Apply</button> <button id="filter-cancel-handler">Cancel</button></div></div></div></section></div></div><section id="ot-lst-cnt" class="ot-host-cnt ot-pc-scrollbar"><div id="ot-sel-blk"><div class="ot-sel-all"><div class="ot-sel-all-hdr"><span class="ot-consent-hdr">Consent</span> <span class="ot-li-hdr">Leg.Interest</span></div><div class="ot-sel-all-chkbox"><div class="ot-chkbox" id="ot-selall-hostcntr"><input id="select-all-hosts-groups-handler" type="checkbox" aria-checked="false"> <label for="select-all-hosts-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-vencntr"><input id="select-all-vendor-groups-handler" type="checkbox" aria-checked="false"> <label for="select-all-vendor-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-licntr"><input id="select-all-vendor-leg-handler" type="checkbox" aria-checked="false"> <label for="select-all-vendor-leg-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div></div><div class="ot-sdk-row"><div class="ot-sdk-column"></div></div></section></section><div class="ot-pc-footer"><div class="ot-btn-container"> <button class="save-preference-btn-handler onetrust-close-btn-handler">Confirm My Choices</button></div><!-- Footer logo --><div class="ot-pc-footer-logo"><a href="https://www.onetrust.com/products/cookie-consent/" target="_blank" rel="noopener noreferrer" aria-label="Powered by OneTrust Opens in a new Tab"><img alt="Powered by Onetrust" src="https://cdn.cookielaw.org/logos/static/powered_by_logo.svg" title="Powered by OneTrust Opens in a new Tab"></a></div></div><!-- Cookie subgroup container --><!-- Vendor list link --><!-- Cookie lost link --><!-- Toggle HTML element --><!-- Checkbox HTML --><!-- plus minus--><!-- Arrow SVG element --><!-- Accordion basic element --><span class="ot-scrn-rdr" aria-atomic="true" aria-live="polite"></span><!-- Vendor Service container and item template --></div><iframe class="ot-text-resize" sandbox="allow-same-origin" title="onetrust-text-resize" style="position: absolute; top: -50000px; width: 100em;" aria-hidden="true"></iframe></div></div><script>_satellite["_runScript18"](function(event, target, Promise) {
var ruleName="DCR | 00-03-C0002 | tags.load.domReady.performance [AC, HS]";try{var isLowerEnv=_satellite.getVar("Kiwi Util | Processes | Is Lower Environment");let e=["apcentral.collegeboard.org/","apstudents.collegeboard.org/","bigfuture.collegeboard.org","bluebook.collegeboard.org","d8profile.collegeboard.org","international.collegeboard.org","satsuite.collegeboard.org","www.collegeboard.org","mypractice.collegeboard.org/dashboard","k12reports.collegeboard.org","cbsearch.collegeboard.org","collegeprofile.collegeboard.org","connections.collegeboard.org","collegeboardsearch.collegeboard.org","mypractice-dev.digitalpractice-nonprod.collegeboard.org/dashboard","mypractice-qa.collegeboard.org/dashboard","mypractice-uat.collegeboard.org/dashboard","apcentral-stg.collegeboard.org","apstudents-stg.collegeboard.org","bigfuture-stg.collegeboard.org","bluebook-stg.collegeboard.org","d8profile-stg.collegeboard.org","international-stg.collegeboard.org","satsuite-stg.collegeboard.org","cbsearch-stg.collegeboard.org","apcentral-dev.collegeboard.org","apstudents-dev.collegeboard.org","bigfuture-dev.collegeboard.org","bluebook-dev.collegeboard.org","satsuite-dev.collegeboard.org","cbsearch-dev.collegeboard.org","apcentral-preview.cms-sites.collegeboard.org","apstudents-preview.cms-sites.collegeboard.org","bigfuture-preview.cms-sites.collegeboard.org","bluebook-preview.cms-sites.collegeboard.org","collegeplanning-preview.cms-sites.collegeboard.org/explore-careers","collegeplanning-preview.cms-sites.collegeboard.org/pay-for-college/bigfuture-scholarships","collegeplanning-preview.cms-sites.collegeboard.org/communities-events/real-talk","satsuite-preview.cms-sites.collegeboard.org","bf-dashboard-ui-qa.collegeplanning-nonprod.collegeboard.org","bf-detail-profs-qa.collegeplanning-nonprod.collegeboard.org","bf-nrp-ui-qa.collegeplanning-nonprod.collegeboard.org/nrp-application","career-profile-ui-qa.collegeplanning-nonprod.collegeboard.org/careers/accountant-or-auditor","career-search-ui-qa.collegeplanning-nonprod.collegeboard.org/career-search","cs-qa.collegeplanning-nonprod.collegeboard.org/college-search","cs-qa.collegeplanning-nonprod.collegeboard.org/college-search/college-list"],o=["d8profile-stg.collegeboard.org","apcentral.collegeboard.org/","apstudents.collegeboard.org/"],r=document.location.pathname,l=document.location.hostname;r&&"/"!==r&&(l+=r.endsWith("/")?r.slice(0,-1):r),window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.match(/CloudWatchSynthetics\//i)?_satellite.logger.warn(ruleName+" > Blocking from CloudWatchSynthetics"):(void 0!==e.find((e=>l.startsWith(e)))&&_satellite.track("tags.embed.ux.ac"),void 0!==o.find((e=>l.startsWith(e)))&&_satellite.track("tags.embed.ux.hs"))}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript19"](function(event, target, Promise) {
var ruleName="DCR | 00-03-C0003 | tags.load.domReady.functional [LA, AMB]";try{let e=["bigfuture.collegeboard.org/plan-for-college/college-prep/bigfuture-ambassador-hub"],a=document.location.pathname,s=document.location.hostname;switch(a&&"/"!==a&&(s+=a.endsWith("/")?a.slice(0,-1):a),window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.match(/CloudWatchSynthetics\//i)?_satellite.logger.warn(ruleName+" > Blocking from CloudWatchSynthetics"):void 0!==e.find((e=>s.startsWith(e)))&&_satellite.track("tags.embed.prog.amb"),document.location.hostname){case"apcentral.collegeboard.org":case"apcentral-origin.collegeboard.org":case"apcentral-stg.collegeboard.org":case"apcentral-preview.cms-sites.collegeboard.org":["apcentral.","apcentral-origin"].find((e=>document.location.hostname.includes(e)))?_satellite.track("tags.embed.prog.liveAgent.apcentral"):_satellite.track("tags.embed.prog.liveAgent.apcentral.sandbox");break;case"apclassroom.collegeboard.org":window.salesForceLiveAgent&&_satellite.track("tags.embed.prog.liveAgent.apclassroom");break;case"apstudents.collegeboard.org":case"apstudents-stg.collegeboard.org":case"apstudents-origin.collegeboard.org":case"apstudents-dev.collegeboard.org":var tagRuleName="tags.embed.prog.liveAgent.apstudents.production";if(document.location.hostname.match(/-(dev|stg)\./i)&&(tagRuleName="tags.embed.prog.liveAgent.apstudents.sandbox"),document.location.pathname.match(/\/courses\//i))_satellite.track(tagRuleName);else switch(document.location.pathname){case"/":case"/about-ap-exams":case"/ap-2020-2021":case"/ap-2020-2021/about-2021-ap-exams":case"/awards-recognitions":case"/calendar":case"/course-index-page":case"/digital-ap-exams":case"/digital-ap-exams/preview":case"/digital-ap-exams/technical-requirements":case"/digital-ap-exams/four-steps-before-test":case"/digital-ap-exams/taking-digital-exams":case"/digital-ap-exams/four-steps-before-test/download-install-app":case"/digital-ap-exams/four-steps-before-test/practice-example-questions":case"/digital-ap-exams/four-steps-before-test/complete-setup":case"/digital-ap-exams/four-steps-before-test/check-in":case"/digital-ap-exams/makeup-request":case"/digital-ap-exams/technical-requirements":case"/digital-submission":case"/exam-calendar":case"/exam-policies-guidelines":case"/exam-policies-guidelines/late-testing":case"/get-scores":case"/register-for-ap-exams":case"/sending-scores":case"/sending-scores/free-score-send":case"/timeline":_satellite.track(tagRuleName)}break;case"clep.collegeboard.org":case"clep-origin.collegeboard.org":case"clep-stg.collegeboard.org":case"clep-dev.collegeboard.org":switch(document.location.pathname){case"/about-remote-proctoring":case"/clep-exams":case"/help-center/frequently-asked-questions":case"/help-center/remote-proctoring":case"/register-for-an-exam":case"/register-for-an-exam/how-to-register":case"/register-for-an-exam/registering-remote-proctoring":case"/scores":case"/scores/get-scores":case"/scores/send-scores-transcripts":case"/test-day":["clep.","clep-origin"].find((e=>document.location.hostname.includes(e)))?_satellite.track("tags.embed.prog.liveAgent.clep.production"):_satellite.track("tags.embed.prog.liveAgent.clep.sandbox")}break;case"cssprofile.collegeboard.org":case"cssprofile-origin.collegeboard.org":case"cssprofile-stg.collegeboard.org":case"cssprofile-dev.collegeboard.org":if(document.location.pathname.match(/^\/contact-us/i)){["cssprofile.","cssprofile-origin"].find((e=>document.location.hostname.includes(e)))?_satellite.track("tags.embed.prog.liveAgent.faps.production"):_satellite.track("tags.embed.prog.liveAgent.faps.sandbox");break}break;case"ordering.collegeboard.org":setTimeout((function(){if(_satellite.getVar("cb.core.iam")&&cb.core.iam.getJWTToken){var e=cb.core.iam.getJWTToken(),a={};e&&(a=JSON.parse(window.atob(e.split(".")[1]))).cb&&a.cb.env&&("pine"===a.cb.env&&_satellite.track("tags.embed.prog.liveAgent.tos.production"),"spruce"===a.cb.env&&_satellite.track("tags.embed.prog.liveAgent.tos.sandbox"))}}),1e3);break;case"satsuite.collegeboard.org":case"satsuite-stg.collegeboard.org":case"collegereadiness-stg.collegeboard.org":case"satsuite-origin.collegeboard.org":switch(document.location.pathname){case"/contact-us":case"/help-center/k12-reporting-portal":case"/help-center/test-ordering-services-districts":case"/help-center/test-ordering-services-schools":case"/k12-educators/administration/psat-10/ordering/dates-deadlines":case"/k12-educators/administration/psat-8-9":case"/k12-educators/administration/psat-8-9/administering-test":case"/k12-educators/administration/psat-8-9/ordering/dates-deadlines":case"/k12-educators/administration/psat-8-9/postadministration":case"/k12-educators/administration/psat-8-9/resources":case"/k12-educators/administration/psat-nmsqt":case"/k12-educators/administration/psat-nmsqt/administering-test":case"/k12-educators/administration/psat-nmsqt/ordering":case"/k12-educators/administration/psat-nmsqt/ordering/dates-deadlines":case"/k12-educators/administration/psat-nmsqt/postadministration":case"/k12-educators/administration/psat-nmsqt/postadministration/fee-waivers":case"/k12-educators/administration/psat-nmsqt/prepare-staff/resources":case"/psat-8-9/scores/k12-educators":case"/psat-8-9/scores/k12-educators/best-practices-sharing-results":case"/psat-nmsqt/scores/k12-educators":case"/psat-nmsqt/scores/k12-educators/best-practices-sharing-results":case"/psat-nmsqt/scores/k12-educators/online-score-reports":case"/sat":case"/sat/registration/dates-deadlines":case"/sat/registration":["satsuite.","satsuite-origin"].find((e=>document.location.hostname.includes(e)))?_satellite.track("tags.embed.prog.liveAgent.satsuite.production"):_satellite.track("tags.embed.prog.liveAgent.satsuite.sandbox")}}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript20"](function(event, target, Promise) {
var ruleName="DCR | 00-03-C0003 | tags.load.domReady.functional-others [AIM, AT]";try{switch(document.location.hostname){case"apcentral.collegeboard.org":case"apcentral-stg1.collegeboard.org":case"apstudents.collegeboard.org":case"apstudents-stg.collegeboard.org":case"blog.collegeboard.org":case"blog-stg1.collegeboard.org":case"counselors.collegeboard.org":case"counselors-stg1.collegeboard.org":case"satsuite.collegeboard.org":case"collegereadiness-stg.collegeboard.org":case"satsuite-stg.collegeboard.org":_satellite.track("tags.embed.wap.aim.enablePush")}document.location.hostname}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript21"](function(event, target, Promise) {
var ruleName="DCR | 00-03-C0004 | tags.load.domReady.marketing [FB, GTAG, SAC, SC, TT, UET, YAH]";try{switch(document.location.hostname){case"bigfuture.collegeboard.org":case"bigfuture-d9-stg.collegeplanning-nonprod.collegeboard.org":case"collegeplanning-stg.collegeboard.org":_satellite.track("tags.embed.dm.uet"),_satellite.track("tags.conversion.dm.visit-bf");break;case"blog.collegeboard.org":case"blog-stg1.collegeboard.org":case"cbsearch.collegeboard.org":case"cbsearch-stg.collegeboard.org":case"cbsearch-stg1.collegeboard.org":case"clep.collegeboard.org":case"clep-stg1.collegeboard.org":case"clepportal.collegeboard.org":case"go.collegeboard.org":case"mysat.collegeboard.org":case"pages.collegeboard.org":case"pages-stg.collegeboard.org":case"parents.collegeboard.org":case"parents-stg.collegeboard.org":case"satreg.collegeboard.org":case"satsuite.collegeboard.org":case"collegereadiness-stg.collegeboard.org":case"satsuite-stg.collegeboard.org":case"studentsearch.collegeboard.org":case"studentsearch-stg.collegeboard.org":case"studentsearch-stg1.collegeboard.org":case"www.collegeboard.org":case"www-stg1.collegeboard.org":_satellite.track("tags.embed.dm.uet")}switch(document.location.hostname){case"bigfuture.collegeboard.org":case"bigfuture-d9-stg.collegeplanning-nonprod.collegeboard.org":case"collegeplanning-stg.collegeboard.org":case"clep.collegeboard.org":case"clep-stg1.collegeboard.org":case"clepportal.collegeboard.org":case"parents.collegeboard.org":case"parents-stg.collegeboard.org":case"satsuite.collegeboard.org":case"collegereadiness-stg.collegeboard.org":case"satsuite-stg.collegeboard.org":case"go.collegeboard.org":_satellite.track("tags.embed.dm.fb"),document.location.pathname.match(/^\/(your-best-test|best-test)$/i)&&document.location.hash.match(/^#thank-you/i)?(kiwi.tagsDmFbCbMainCustomEvents=kiwi.tagsDmFbCbMainCustomEvents||[],kiwi.tagsDmFbCbMainCustomEvents.push({Lead:{}}),_satellite.track("tags.embed.dm.fb.cbMain")):_satellite.track("tags.embed.dm.fb.cbMain");break;case"india.collegeboard.org":_satellite.track("tags.embed.dm.fb"),_satellite.track("tags.embed.dm.fb.cbIndia.ap"),_satellite.track("tags.embed.dm.fb.cbIndia.sat");break;case"international.collegeboard.org":case"international-stg.collegeboard.org":document.location.pathname.match(/^\/(students\/ap\/taking-ap-india)(\/|$)/i)&&(_satellite.track("tags.embed.dm.fb"),_satellite.track("tags.embed.dm.fb.cbIndia.ap"));break;case"mysat.collegeboard.org":case"satreg.collegeboard.org":_satellite.track("tags.embed.dm.fb"),_satellite.track("tags.embed.dm.fb.cbMain"),_satellite.track("tags.embed.dm.fb.cbIndia.sat");break;case"pages.collegeboard.org":case"pages-stg.collegeboard.org":document.location.pathname.match(/^\/sat\/school-day/i)&&(_satellite.track("tags.embed.dm.fb"),_satellite.track("tags.embed.dm.fb.cbMain"));break;case"signup.collegeboard.org":document.location.pathname.match(/^\/international-sat($|\/)/i)&&(_satellite.track("tags.embed.dm.fb"),_satellite.track("tags.embed.dm.fb.cbIndia.sat"))}switch(document.location.hostname){case"bigfuture.collegeboard.org":case"bigfuture-d9-stg.collegeplanning-nonprod.collegeboard.org":case"collegeplanning-stg.collegeboard.org":_satellite.track("tags.embed.dm.gtag.cbMain"),kiwi.tagsDmGtagCbLpCustomEvents=kiwi.tagsDmGtagCbLpCustomEvents||[],kiwi.tagsDmGtagCbLpCustomEvents.push({conversion:{send_to:"AW-725129111/mA5xCI_fsrIBEJev4tkC"}}),_satellite.track("tags.embed.dm.gtag.cbLp");break;case"blog.collegeboard.org":case"blog-stg1.collegeboard.org":case"studentsearch.collegeboard.org":case"studentsearch-stg.collegeboard.org":case"studentsearch-stg1.collegeboard.org":_satellite.track("tags.embed.dm.gtag.cbLp");break;case"cbsearch.collegeboard.org":case"cbsearch-stg.collegeboard.org":case"cbsearch-stg1.collegeboard.org":case"clepportal.collegeboard.org":case"pages.collegeboard.org":case"pages-stg.collegeboard.org":case"parents.collegeboard.org":case"parents-stg.collegeboard.org":case"www.collegeboard.org":case"www-stg1.collegeboard.org":_satellite.track("tags.embed.dm.gtag.cbMain");break;case"clep.collegeboard.org":case"clep-stg1.collegeboard.org":_satellite.track("tags.embed.dm.gtag.cbMain"),document.location.pathname.match(/^\/(clep-benefits-for-everyone|register-for-an-exam)?(\/|$)/i)&&(kiwi.tagsDmGtagCbLpCustomEvents=kiwi.tagsDmGtagCbLpCustomEvents||[],kiwi.tagsDmGtagCbLpCustomEvents.push({conversion:{send_to:"AW-725129111/cPLkCLn_idQBEJev4tkC"}})),_satellite.track("tags.embed.dm.gtag.cbLp");break;case"india.collegeboard.org":_satellite.track("tags.embed.dm.gtag.cbIndia");break;case"go.collegeboard.org":case"satsuite.collegeboard.org":case"collegereadiness-stg.collegeboard.org":case"satsuite-stg.collegeboard.org":_satellite.track("tags.embed.dm.gtag.cbMain"),_satellite.track("tags.embed.dm.gtag.cbLp");break;case"international.collegeboard.org":case"international-stg.collegeboard.org":document.location.pathname.match(/^\/(students\/ap\/taking-ap-india)(\/|$)/i)&&_satellite.track("tags.embed.dm.gtag.cbIndia");break;case"mysat.collegeboard.org":case"satreg.collegeboard.org":_satellite.track("tags.embed.dm.gtag.cbMain"),_satellite.track("tags.embed.dm.gtag.cbLp"),_satellite.track("tags.embed.dm.gtag.cbIndia");break;case"professionals.collegeboard.org":case"prof-stg.collegeboard.org":case"prof-stg1.collegeboard.org":document.location.pathname.match(/^\/higher-ed\/covid-19-updates(\/|$)/i)&&_satellite.track("tags.embed.dm.gtag.cbMain");break;case"signup.collegeboard.org":_satellite.track("tags.embed.dm.gtag.cbMain"),kiwi.tagsDmGtagCbLpCustomEvents=kiwi.tagsDmGtagCbLpCustomEvents||[],document.location.pathname.match(/^\/worry-index(\/|$)/i)&&kiwi.tagsDmGtagCbLpCustomEvents.push({conversion:{send_to:"AW-725129111/PXSRCMaC-KcBEJev4tkC"}}),document.location.pathname.match(/^\/ap-tips(\/|$)/i)&&kiwi.tagsDmGtagCbLpCustomEvents.push({conversion:{send_to:"AW-725129111/npFeCPTWz90BEJev4tkC"}}),_satellite.track("tags.embed.dm.gtag.cbLp"),document.location.pathname.match(/^\/india-global-alliance(\/|$)/i)&&_satellite.track("tags.embed.dm.gtag.cbIndia"),document.location.pathname.match(/^\/international-sat(\/|$)/i)&&_satellite.track("tags.embed.dm.gtag.cbIndia")}switch(document.location.hostname){case"mysat.collegeboard.org":case"satreg.collegeboard.org":case"signup.collegeboard.org":_satellite.track("tags.embed.dm.sc.cbMain")}switch(document.location.hostname){case"bigfuture.collegeboard.org":case"bigfuture-d9-stg.collegeplanning-nonprod.collegeboard.org":case"collegeplanning-stg.collegeboard.org":kiwi.tagsDmStackAdaptCustomEvents=kiwi.tagsDmStackAdaptCustomEvents||[],kiwi.tagsDmStackAdaptCustomEvents.push({ts:"nvQGLRCcsbLj131laIrHrg"}),_satellite.track("tags.embed.dm.sac")}switch(document.location.hostname){case"bigfuture.collegeboard.org":case"bigfuture-d9-stg.collegeplanning-nonprod.collegeboard.org":case"collegeplanning-stg.collegeboard.org":case"blog.collegeboard.org":case"blog-stg1.collegeboard.org":case"clep.collegeboard.org":case"clep-stg1.collegeboard.org":case"clepportal.collegeboard.org":case"mysat.collegeboard.org":case"satreg.collegeboard.org":case"satsuite.collegeboard.org":case"collegereadiness-stg.collegeboard.org":case"satsuite-stg.collegeboard.org":case"www.collegeboard.org":case"www-stg1.collegeboard.org":_satellite.track("tags.embed.dm.tt.cbMain")}switch(document.location.hostname){case"bigfuture.collegeboard.org":case"bigfuture-d9-stg.collegeplanning-nonprod.collegeboard.org":case"collegeplanning-stg.collegeboard.org":_satellite.track("tags.embed.dm.yah.divisionD");break;case"clep.collegeboard.org":case"clep-stg1.collegeboard.org":document.location.pathname.match(/^\/(about-remote-proctoring(\/take-clep-exam-remote-proctoring)?|clep-benefits-for-everyone|test-day\/what-to-expect-remote-proctoring)?$/i)&&_satellite.track("tags.embed.dm.yah.divisionD");break;case"clepportal.collegeboard.org":document.location.pathname.match(/^\/clepcand\/checkout\/displayOrderConfirmationAction.action$/i)&&_satellite.track("tags.embed.dm.yah.divisionD")}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><div id="batBeacon852789453280" style="width: 0px; height: 0px; display: none; visibility: hidden;"><img id="batBeacon915084882325" width="0" height="0" alt="" src="https://bat.bing.com/action/0?ti=5061325&amp;tm=al001&amp;Ver=2&amp;mid=3d5111d3-86b6-4a7b-a8ee-2bd280ab97d9&amp;sid=c6e7c3209adb11eea31b37e75c214c23&amp;vid=db150c907c0e11eeb108fff29f9c8ff0&amp;vids=0&amp;msclkid=N&amp;pi=918639831&amp;lg=en-US&amp;sw=834&amp;sh=1194&amp;sc=24&amp;tl=My%20SAT%20Home%20Page&amp;kw=SAT,%20SAT%20Registration,%20Register%20for%20SAT,%20Take%20SAT,%20ACT,%20ACT%20Registration,%20Register%20for%20ACT,%20Take%20ACT,%20SAT%20Scores,%20ACT%20Scores,%20Send%20SAT%20Scores,%20Send%20ACT%20Scores,%20Apply%20to%20college,%20Go%20to%20college&amp;p=https%3A%2F%2Fmysat.collegeboard.org%2Fdashboard&amp;r=https%3A%2F%2Fsatsuite.collegeboard.org%2Fsat%3FnavId%3Dgh-sat&amp;lt=611&amp;pt=1702646278170,397,397,,,2,2,2,2,2,,2,378,378,407,604,611,611,,,&amp;pn=1,0&amp;mtp=5&amp;evt=pageLoad&amp;sv=1&amp;rn=68827" style="width: 0px; height: 0px; display: none; visibility: hidden;"></div><script>_satellite["_runScript22"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.dm.fb | Facebook [FB]";try{!function(e,t,a,n,o,c,r){e.fbq||(o=e.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},e._fbq||(e._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(c=t.createElement(a)).async=!0,c.src=n,(r=t.getElementsByTagName(a)[0]).parentNode.insertBefore(c,r))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript23"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.dm.fb.cbMain | Facebook [FB]";try{var pixelId="519836601522904",ruleId="cbMain",eventsArrayName="tagsDmFbCbMainCustomEvents",eventsArray=kiwi[eventsArrayName];if(fbq("init",pixelId),fbq("trackSingle",pixelId,"PageView"),_satellite.logger.info("tags.embed.dm.fb."+ruleId+".pageView"),eventsArray)for(var i=0;i<eventsArray.length;i++){var oEvent=eventsArray[i],eventName=Object.keys(oEvent)[0]||"",eventData=oEvent[eventName]||{};fbq("trackSingle",pixelId,eventName,eventData),_satellite.logger.info("tags.embed.dm.fb."+ruleId+"."+eventName)}kiwi[eventsArrayName]=null}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript24"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.dm.fb.cbIndia.sat | Facebook [FB]";try{var pixelId="641101116419565",ruleId="cbIndia.sat",eventsArrayName="tagsDmFbCbIndiaSatCustomEvents",eventsArray=kiwi[eventsArrayName];if(fbq("init",pixelId),fbq("trackSingle",pixelId,"PageView"),_satellite.logger.info("tags.embed.dm.fb."+ruleId+".pageView"),eventsArray)for(var i=0;i<eventsArray.length;i++){var oEvent=eventsArray[i],eventName=Object.keys(oEvent)[0]||"",eventData=oEvent[eventName]||{};fbq("trackSingle",pixelId,eventName,eventData),_satellite.logger.info("tags.embed.dm.fb."+ruleId+"."+eventName)}kiwi[eventsArrayName]=null}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript25"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.dm.gtag.cbMain | Google [GTAG]";try{var tag=document.createElement("script");tag.src="//www.googletagmanager.com/gtag/js?id=AW-1066570316",tag.async=!0;var scr=document.getElementsByTagName("script")[0],par=scr.parentNode;par.insertBefore(tag,scr),tag.onload=tag.onreadystatechange=function(){if(window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config","AW-1066570316",{}),_satellite.logger.info("tags.embed.dm.gtag.cbMain.pageView"),kiwi.tagsDmGtagCbMainCustomEvents){for(var a=0;a<kiwi.tagsDmGtagCbMainCustomEvents.length;a++){var t=kiwi.tagsDmGtagCbMainCustomEvents[a],e=Object.keys(t)[0]||"",g=t[e]||{};gtag("event",e,g),_satellite.logger.info("tags.embed.dm.gtag.cbMain."+e)}kiwi.tagsDmGtagCbMainCustomEvents=null}}}catch(a){_satellite.logger.error(ruleName+" > ERROR: "+a.message)}
});</script><script>_satellite["_runScript26"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.dm.gtag.cbLp | Google [GTAG]";try{var tag=document.createElement("script");tag.src="//www.googletagmanager.com/gtag/js?id=AW-725129111",tag.async=!0;var scr=document.getElementsByTagName("script")[0],par=scr.parentNode;par.insertBefore(tag,scr),tag.onload=tag.onreadystatechange=function(){if(window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config","AW-725129111",{}),_satellite.logger.info("tags.embed.dm.gtag.cbLp.pageView"),kiwi.tagsDmGtagCbLpCustomEvents){for(var t=0;t<kiwi.tagsDmGtagCbLpCustomEvents.length;t++){var e=kiwi.tagsDmGtagCbLpCustomEvents[t],a=Object.keys(e)[0]||"",g=e[a]||{};gtag("event",a,g),_satellite.logger.info("tags.embed.dm.gtag.cbLp."+a)}kiwi.tagsDmGtagCbLpCustomEvents=null}},window.gtag_report_conversion=function(t){return gtag("event","conversion",{send_to:"AW-725129111/PXSRCMaC-KcBEJev4tkC",event_callback:function(){void 0!==t&&(window.location=t)}}),_satellite.logger.info("tags.embed.dm.gtag.cbLp.adWords.conversion.onClick"),!1}}catch(t){_satellite.logger.error(ruleName+" > ERROR: "+t.message)}
});</script><script>_satellite["_runScript27"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.dm.gtag.cbIndia | Google [GTAG]";try{var tag=document.createElement("script");tag.src="//www.googletagmanager.com/gtag/js?id=AW-716553948",tag.async=!0;var scr=document.getElementsByTagName("script")[0],par=scr.parentNode;par.insertBefore(tag,scr),tag.onload=tag.onreadystatechange=function(){if(window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config","AW-716553948",{}),_satellite.logger.info("tags.embed.dm.gtag.cbIndia.pageView"),kiwi.tagsDmGtagCbIndiaCustomEvents){for(var a=0;a<kiwi.tagsDmGtagCbIndiaCustomEvents.length;a++){var t=kiwi.tagsDmGtagCbIndiaCustomEvents[a],e=Object.keys(t)[0]||"",g=t[e]||{};gtag("event",e,g),_satellite.logger.info("tags.embed.dm.gtag.cbIndia."+e)}kiwi.tagsDmGtagCbIndiaCustomEvents=null}}}catch(a){_satellite.logger.error(ruleName+" > ERROR: "+a.message)}
});</script><script>_satellite["_runScript28"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.dm.sc.cbMain | SnapChat [SC]";try{if(window.snaptr){if(snaptr("init","de6b8d79-e2c8-412f-bfd8-6314d377ad35"),snaptr("track","PAGE_VIEW"),_satellite.logger.info("tags.embed.dm.sc.cbMain.pageView"),kiwi.tagsDmScCbMainCustomEvents){for(var i=0;i<kiwi.tagsDmScCbMainCustomEvents.length;i++){var oEvent=kiwi.tagsDmScCbMainCustomEvents[i],eventName=Object.keys(oEvent)[0]||"",eventData=oEvent[eventName]||{};snaptr("track",eventName),_satellite.logger.info("tags.embed.dm.sc.cbMain."+eventName)}kiwi.tagsDmScCbMainCustomEvents=null}}else!function(e,t,a){if(!e.snaptr){var n=e.snaptr=function(){n.handleRequest?n.handleRequest.apply(n,arguments):n.queue.push(arguments)};n.queue=[];var s="script",i=t.createElement(s);i.async=!0,i.src=a;var r=t.getElementsByTagName(s)[0];r.parentNode.insertBefore(i,r),i.onload=i.onreadystatechange=function(){if(snaptr("init","de6b8d79-e2c8-412f-bfd8-6314d377ad35"),snaptr("track","PAGE_VIEW"),_satellite.logger.info("tags.embed.dm.sc.cbMain.pageView"),kiwi.tagsDmScCbMainCustomEvents){for(var e=0;e<kiwi.tagsDmScCbMainCustomEvents.length;e++){var t=kiwi.tagsDmScCbMainCustomEvents[e],a=Object.keys(t)[0]||"";t[a];snaptr("track",a),_satellite.logger.info("tags.embed.dm.sc.cbMain."+a)}kiwi.tagsDmScCbMainCustomEvents=null}}}}(window,document,"https://sc-static.net/scevent.min.js")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript29"](function(event, target, Promise) {
var ruleName="DCR | tags.embed.dm.tt.cbMain | TikTok [TT]";try{!function(t,e,i){t.TiktokAnalyticsObject=i;var a=t[i]=t[i]||[];a.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],a.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var n=0;n<a.methods.length;n++)a.setAndDefer(a,a.methods[n]);if(a.instance=function(t){for(var e=a._i[t]||[],i=0;i<a.methods.length;i++)a.setAndDefer(e,a.methods[i]);return e},a.load=function(t,e){var n="https://analytics.tiktok.com/i18n/pixel/events.js";a._i=a._i||{},a._i[t]=[],a._i[t]._u=n,a._t=a._t||{},a._t[t]=+new Date,a._o=a._o||{},a._o[t]=e||{},(e=document.createElement("script")).type="text/javascript",e.async=!0,e.src=n+"?sdkid="+t+"&lib="+i,(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t)},a.load("CATM47JC77U65FNEHBB0"),a.page(),_satellite.logger.info("tags.embed.dm.tt.cbMain.Pageview"),kiwi.tagsDmTtCbMainCustomEvents){for(var s=0;s<kiwi.tagsDmTtCbMainCustomEvents.length;s++){var o=kiwi.tagsDmTtCbMainCustomEvents[s],r=Object.keys(o)[0]||"",c=o[r]||{};c.content_id=_satellite.getVar("kiwi.ddl.user.cbWeb.id")||"",a.instance("CATM47JC77U65FNEHBB0").track(r,c),_satellite.logger.info("tags.embed.dm.tt.cbMain."+r)}kiwi.tagsDmTtCbMainCustomEvents=null}}(window,document,"ttq")}catch(t){_satellite.logger.error(ruleName+" > ERROR: "+t.message)}
});</script><script>_satellite["_runScript30"](function(event, target, Promise) {
var ruleName="00 Page Load | 04 Window Loaded > Update Kiwi";try{_satellite.logger.info(ruleName),kiwi.ddl.pageLoad.ts.onLoad=Date.now()}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript31"](function(event, target, Promise) {
var ruleName="00 Page Load | 04 Window Loaded > Load Tags";try{_satellite.logger.info(ruleName),kiwi.windowLoadedFired=!0,kiwi.otReady=kiwi.otReady||!1,kiwi.otReady?_satellite.track("tags.load.windowLoaded.marketing"):_satellite.logger.info(ruleName+" > waiting for kiwi.otReady")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript32"](function(event, target, Promise) {
var ruleName="DCR | 00-04-C0004 | tags.load.windowLoaded.marketing [ADM, BAR, FB, GTAG, TTD, UBA, UET]";try{switch(document.location.hostname){case"bigfuture.collegeboard.org":case"bigfuture-d9-stg.collegeplanning-nonprod.collegeboard.org":case"collegeplanning-stg.collegeboard.org":document.location.pathname.match(/^\/(pay-for-college\/(bigfuture-scholarships|is-college-worth-it|scholarship-directory)|college-search|career-search\/career-quiz)($|\/)/i)&&_satellite.track("tags.embed.dm.ttd.agilityAds");break;case"cbaccount.collegeboard.org":document.location.pathname.match(/^\/iamweb\/secure\/thankYou/i)&&(kiwi.util.customEvents.confirmEclCreate({}),_satellite.track("tags.embed.dm.ttd.agilityAds2"));break;case"clep.collegeboard.org":case"clep-stg1.collegeboard.org":!function(e,t,a){var o,r=e.getElementsByTagName(t)[0];e.getElementById(a)||((o=e.createElement(t)).id=a,o.src="//pixel.s3xified.com/segment.php?id=81&aid=15055",r.parentNode.insertBefore(o,r))}(document,"script","admretsgmt-81"),_satellite.logger.info(ruleName+" > AdMedia 81/15055 view tracked!"),document.location.pathname.match(/^\/(about-remote-proctoring(\/take-clep-exam-remote-proctoring)?|clep-benefits-for-everyone|test-day\/what-to-expect-remote-proctoring)?$/i)&&_satellite.track("tags.embed.dm.ttd.divisionD");break;case"clepportal.collegeboard.org":document.location.pathname.match(/^\/clepcand\/checkout\/displayOrderConfirmationAction.action$/i)&&_satellite.track("tags.embed.dm.ttd.divisionD");break;case"collegeboard.tfaforms.net":document.location.pathname.match(/^\/164$/i)&&_satellite.track("tags.embed.dm.ttd.q1Media");break;case"form.collegeboard.org":document.location.pathname.match(/^\/f\/pre-ap-thank-you$/i)&&_satellite.track("tags.embed.dm.ttd.q1Media");break;case"pre-ap.collegeboard.org":case"pre-ap-stg1.collegeboard.org":if(document.location.pathname.match(/^\/learn-about-pre-ap\/why-choose-pre-ap$/i)){var px=document.createElement("img");px.width="1",px.height="1",px.style="border-style:none;",px.alt="",px.src="//serve.uberads.com/convert/15103/0?tid=conversion",document.getElementsByTagName("body")[0].appendChild(px),_satellite.logger.info(ruleName+" > Q1 Media UberAds 15103 conversion tracked!");var ordnumber=1e13*Math.random(),sscUrl=("https:"==document.location.protocol?"https://":"http://")+"trkn.us/pixel/conv/ppt=18312;g=landing_page;gid=41985;ord="+ordnumber+";v=120";(x=document.createElement("IMG")).setAttribute("src",sscUrl),x.setAttribute("width","1"),x.setAttribute("height","1"),document.body.appendChild(x),_satellite.logger.info(ruleName+" > JunGroup Barometric landing_page conversion tracked!"),_satellite.track("tags.embed.dm.ttd.q1Media2")}break;case"satsuite.collegeboard.org":case"collegereadiness-stg.collegeboard.org":case"satsuite-stg.collegeboard.org":if(document.location.pathname.match(/^\/dates\/march-12-2022-sat-test-date$/i)){var x;ordnumber=1e13*Math.random(),sscUrl=("https:"==document.location.protocol?"https://":"http://")+"trkn.us/pixel/conv/ppt=17725;g=landing_page;gid=40737;ord="+ordnumber+";v=120";(x=document.createElement("IMG")).setAttribute("src",sscUrl),x.setAttribute("width","1"),x.setAttribute("height","1"),document.body.appendChild(x),_satellite.logger.info(ruleName+" > JunGroup Barometric landing_page conversion tracked!"),document.addEventListener("click",(function(e){if(e.target.matches('[href="https://mysat.collegeboard.org/"]')){var t=1e13*Math.random(),a=("https:"==document.location.protocol?"https://":"http://")+"trkn.us/pixel/conv/ppt=17725;g=register_now;gid=40721;ord="+t+";v=120",o=document.createElement("IMG");o.setAttribute("src",a),o.setAttribute("width","1"),o.setAttribute("height","1"),document.body.appendChild(o),_satellite.logger.info(ruleName+" > JunGroup Barometric register_now conversion tracked!")}}),!1)}break;case"springboard.collegeboard.org":case"springboard-stg1.collegeboard.org":document.location.pathname.match(/^\/using-formative-assessment$/i)&&_satellite.track("tags.embed.dm.ttd.q1Media2")}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript33"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.viewInDom > Call Track";try{var callTrackQueue=function(){var e="kiwi.trackQueue",a="spa",r=!1,t=!1;_satellite.logger.info(ruleName+" > "+e+" ==> "+a),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:r,updateDl:t}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript34"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript35"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.viewInDom > Call Track";try{var callTrackQueue=function(){var e="kiwi.trackQueue",a="spa",r=!1,t=!1;_satellite.logger.info(ruleName+" > "+e+" ==> "+a),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:r,updateDl:t}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript36"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript37"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.widgetsReady > Call Track";try{var eventName="kiwi.trackQueue",trackSource="widgets",expectWidgets=!1,updateDl=!1;_satellite.logger.info(ruleName+" > "+eventName+" ==> "+trackSource),document.dispatchEvent(new CustomEvent(eventName,{bubbles:!0,detail:{trackSource:trackSource,expectWidgets:expectWidgets,updateDl:updateDl}}))}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript38"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript39"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.viewInDom > Call Track";try{var callTrackQueue=function(){var e="kiwi.trackQueue",a="spa",r=!1,t=!1;_satellite.logger.info(ruleName+" > "+e+" ==> "+a),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:r,updateDl:t}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript40"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript41"](function(event, target, Promise) {
var ruleName="CER | cbTrack-asyncChildStarted > Handle Event";try{var eventData=event.detail;if(eventData){var aschKey=eventData.key||"",callTrackQueue=function(){var e="kiwi.trackQueue",a="asch-start",t=!1,r=!1,l=eventData;_satellite.logger.info(ruleName+" > "+e+" ==> "+a+" ("+aschKey+")"),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:t,updateDl:r,trackEventPayload:l}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}else _satellite.logger.error(ruleName+" > Missing event payload.")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript42"](function(event, target, Promise) {
var ruleName="CER | cbTrack-asyncChildStarted > Handle Event";try{var eventData=event.detail;if(eventData){var aschKey=eventData.key||"",callTrackQueue=function(){var e="kiwi.trackQueue",a="asch-start",t=!1,r=!1,l=eventData;_satellite.logger.info(ruleName+" > "+e+" ==> "+a+" ("+aschKey+")"),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:t,updateDl:r,trackEventPayload:l}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}else _satellite.logger.error(ruleName+" > Missing event payload.")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript43"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript44"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript45"](function(event, target, Promise) {
var ruleName="CER | cbTrack-asyncChildLoaded > Handle Event";try{var eventData=event.detail;if(eventData){var aschKey=eventData.key||"",callTrackQueue=function(){var e="kiwi.trackQueue",a="asch-end",t=!1,r=!1,l=eventData;_satellite.logger.info(ruleName+" > "+e+" ==> "+a+" ("+aschKey+")"),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:t,updateDl:r,trackEventPayload:l}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}else _satellite.logger.error(ruleName+" > Missing event payload.")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript46"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.viewInDom > Call Track";try{var callTrackQueue=function(){var e="kiwi.trackQueue",a="spa",r=!1,t=!1;_satellite.logger.info(ruleName+" > "+e+" ==> "+a),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:r,updateDl:t}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript47"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript48"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript49"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.viewInDom > Call Track";try{var callTrackQueue=function(){var e="kiwi.trackQueue",a="spa",r=!1,t=!1;_satellite.logger.info(ruleName+" > "+e+" ==> "+a),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:r,updateDl:t}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript50"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript51"](function(event, target, Promise) {
var ruleName="CER | cbTrack-asyncChildLoaded > Handle Event";try{var eventData=event.detail;if(eventData){var aschKey=eventData.key||"",callTrackQueue=function(){var e="kiwi.trackQueue",a="asch-end",t=!1,r=!1,l=eventData;_satellite.logger.info(ruleName+" > "+e+" ==> "+a+" ("+aschKey+")"),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:t,updateDl:r,trackEventPayload:l}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}else _satellite.logger.error(ruleName+" > Missing event payload.")}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript52"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript53"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.viewInDom > Call Track";try{var callTrackQueue=function(){var e="kiwi.trackQueue",a="spa",r=!1,t=!1;_satellite.logger.info(ruleName+" > "+e+" ==> "+a),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:r,updateDl:t}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript54"](function(event, target, Promise) {
var ruleName="DCR | cbTrack.viewInDom > Call Track";try{var callTrackQueue=function(){var e="kiwi.trackQueue",a="spa",r=!1,t=!1;_satellite.logger.info(ruleName+" > "+e+" ==> "+a),document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{trackSource:a,expectWidgets:r,updateDl:t}}))};if(kiwi.domReadyFired)callTrackQueue();else{var hostParams={ruleName:ruleName+=" > triggerTrackWhenDomReady"};_satellite.logger.info(hostParams.ruleName+" > Starting"),kiwi.util.doWhenReady.waitFn({hostParams:hostParams,instanceCode:"triggerTrackWhenDomReady",maxAttempts:35,timeBetween:100,checkFn:function(e){return _satellite.logger.info(e+" > checkFn > Checking..."),kiwi.domReadyFired},readyFn:function(e){_satellite.logger.info(e.ruleName+" > readyFn > Ready!"),callTrackQueue()}})}}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript55"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript56"](function(event, target, Promise) {
kiwi=window.kiwi||{},kiwi.flags=kiwi.flags||{};var ruleName="CER | kiwi.trackQueue > Handle Event";try{var eventData=event.detail,eventTarget=event.target,trackSource=eventData.trackSource,ignoreWidgets=_satellite.getVar("kiwi.ddl.pageSettings.tech.ignoreWidgets")||!1,expectWidgetsSetting=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectWidgets")||!1,expectSpa=_satellite.getVar("kiwi.ddl.pageSettings.tech.expectSpa")||!1,updateDl=eventData.updateDl||!1,trackEventPayload=eventData.trackEventPayload||{},passedIn=eventData.passedIn||[],emptyEncStrObjPageName="%7B%22name%22:%22%22,%22trackSource%22:%22%22%7D";expectWidgets=!ignoreWidgets&&("derive"===expectWidgetsSetting?_satellite.getVar("kiwi.ddl.pageTech.hasAtlasWidgets")||!1:eventData.expectWidgets||expectWidgetsSetting||!1),"whileloggedin"===expectSpa&&(expectSpa=_satellite.getVar("Kiwi Util | Processes | User | CB Web | Is Logged In"));var tmosByTrackSource={"fail-over":_satellite.getVar("kiwi.ddl.pageSettings.tech.failOverTrackingTmoMs")||5e3,"page-load":_satellite.getVar("kiwi.ddl.pageSettings.tech.pageLoadTrackTmoMs")||2500,"route-hash":_satellite.getVar("kiwi.ddl.pageSettings.tech.routeHashTrackTmoMs")||2500,"spa-page":_satellite.getVar("kiwi.ddl.pageSettings.tech.spaPageTrackTmoMs")||1500,spa:1e3,widgets:1e3,"asch-start":0,"asch-end":750},oPageName={},handleEvent=function(e,t,a,i,r){var l="",o="";if(trackEventPayload&&trackEventPayload.key?(o=trackEventPayload.key,l=e+":"+o):l=e,_satellite.logger.info(kiwi._tqfn.ruleName+" > {trackSource:"+l+", expectWidgets:"+t+", expectSpa:"+a+", updateDl:"+i+", passedIn:"+JSON.stringify(r)+"}"),!e)return _satellite.logger.warn(kiwi._tqfn.ruleName+" > Missing trackSource setting. Aborting. \n"+JSON.stringify(event.detail)),!1;kiwi._tq&&"page-load"!==e||kiwi._tqfn.initializeVars(),"page-load"===e&&kiwi._tqfn.resetDataAfterTrack(),i&&(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName());var n=0,s="link",g=!kiwi._tq.pageTrackInProgress&&(e.match(/^(page-load|route-hash)$/i)||"spa"===e&&!kiwi._tq.inQueue["fail-over"]);(g&&"spa"===e&&(e="spa-page"),g)&&(_satellite.logger.log(ruleName+" > New Page Track Queue started! with: "+e),_satellite.getVar("AA-Settings | Kiwi | No Queue Track Pages")[(_satellite.getVar("kiwi.ddl.pageName")||{name:"missing"}).name]&&kiwi._tqfn.doTrack("no-queue-track","page","",n));switch(kiwi._tq.pageTrackInProgress=g||kiwi._tq.pageTrackInProgress,kiwi._tq.pageTrackInProgress&&(s="page"),kickOffFailOverTrackCall=function(){kiwi._tq.tmos["fail-over"]||(kiwi._tq.timeStampTrackStart=Date.now(),n=1,kiwi._tq.startTrackSource=e,kiwi._tqfn.tmoStart(tmosByTrackSource["fail-over"],"fail-over",s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,!1))},e){case"page-load":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tq.inQueue["route-hash"]=1,kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n),t&&(kiwi._tq.inQueue.expectwidgets=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectWidgets) WaitCount++: "+kiwi._tq.waitCount+" for "+l)),a&&(kiwi._tq.inQueue.expectspa=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > (expectSpa) WaitCount++: "+kiwi._tq.waitCount+" for "+l));break;case"route-hash":case"spa-page":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n));break;case"spa":case"widgets":kickOffFailOverTrackCall(),kiwi._tq.inQueue[e]?_satellite.logger.log(ruleName+" > "+e+" > already in queue!"):(_satellite.logger.log(ruleName+" > "+e+" > not yet in queue"),kiwi._tq.inQueue[e]=1,kiwi._tq.inQueue["expect"+e]?kiwi._tqfn.tmoEnd(e,s,emptyEncStrObjPageName,kiwi._tq.startTrackSource,n):(kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],e,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)));break;case"asch-start":o&&(kiwi._tq.aschKeysStarted[o]||kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no addition to waitcount: "+kiwi._tq.waitCount+" for "+l+"(already started/loaded)"):(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.waitCount++,_satellite.logger.log(ruleName+" > WaitCount++: "+kiwi._tq.waitCount+" for "+l)));break;case"asch-end":o&&(kiwi._tq.aschKeysLoaded[o]?_satellite.logger.log(ruleName+" > no tmoStart for async child: "+o+" (already loaded)"):kiwi._tq.aschKeysStarted[o]?(_satellite.logger.log(ruleName+' > prior "starting" call found, so no addition to WaitCount: '+kiwi._tq.waitCount+" for "+l),kiwi._tqfn.tmoStart(tmosByTrackSource[e],l,s,kiwi._tq.oPageName,kiwi._tq.startTrackSource,n)):kiwi._tq.pageTrackInProgress?(kiwi._tq.aschKeysStarted[o]=1,kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+" > pagetrack already in progress so no tracking tmo kicked off for "+l)):(kiwi._tq.aschKeysLoaded[o]=1,_satellite.logger.log(ruleName+' > no prior "starting" call found, and not within page track progress, so ignoring for '+l)));break;case"acdl-page":kiwi._tqdl=kiwi._tqdl||[];for(var k=0;k<r.length;k++)kiwi._tqdl.push(r[k]);kiwi._tq.pageTrackInProgress?(kiwi._tq.oPageName=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.log(ruleName+" > "+e+" > "+kiwi._tq.oPageName.name),_satellite.track("cbTrack.viewInDom")):(_satellite.logger.log(ruleName+" > "+e+" > sending page track now"),kiwi._tqfn.trackPage(e,"","acdl-page"))}};kiwi._tqfn={ruleName:ruleName,initializeVars:function(){kiwi._tq={oPageName:_satellite.getVar("kiwi.ddl.pageName"),pageLoadTracked:0,waitCount:0,tmos:{},inQueue:{},aschKeys:{},timeStampInit:Date.now(),timeStampTrackStart:0,timeStampTrackEnd:0,startTrackSource:"",pageTrackInProgress:0},_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  initializeVars")},updateDlsAndGetLatestPageName:function(){return _satellite.getVar("Kiwi Util | Helpers | ADL | Update"),_satellite.getVar("Kiwi Util | Helpers | DDL | Page View Update"),_satellite.getVar("kiwi.ddl.pageName")},tmoStart:function(e,t,a,i,r,l){e=e||0,i=i||kiwi._tq.oPageName||_satellite.getVar("kiwi.ddl.pageName"),_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO Start for "+e+"ms > {"+t+", "+i.name+"} > "+a);var o=encodeURI(JSON.stringify(i));e?kiwi._tq.tmos[t]=setTimeout('kiwi._tqfn.tmoEnd("'+t+'", "'+a+'", "'+o+'", "'+r+'", '+l+")",e):kiwi._tqfn.tmoEnd(t,a,o,r,l)},tmoEnd:function(e,t,a,i,r){var l=e,o=e.split(":"),n=o[1];e=o[0],a=a||emptyEncStrObjPageName;var s=JSON.parse(decodeURI(a));if(_satellite.logger.info(kiwi._tqfn.ruleName+" > TMO End > {"+e+", "+s.name+"} > "+t),"fail-over"===e)kiwi._tqfn.doTrack(e,t,i,r);else{switch(e){case"page-load":case"route-hash":case"spa-page":case"spa":case"widgets":kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > WaitCount--: "+kiwi._tq.waitCount+" for "+l);break;case"asch-end":n&&(kiwi._tq.aschKeysStarted[n]?kiwi._tq.aschKeysLoaded[n]?_satellite.logger.log(ruleName+" > no waitCount-- for "+l+" (already loaded)"):(kiwi._tq.waitCount--,_satellite.logger.log(ruleName+" > waitCount--: "+kiwi._tq.waitCount+" for "+l)):kiwi._tq.pageTrackInProgress?_satellite.logger.log(ruleName+" > pagetrack already in progress so ignoring "+l+" (rogue)"):_satellite.logger.log(ruleName+' > no prior "starting" call found so ignoring '+l+" (rogue)"))}kiwi._tqfn.checkTrackReady(e,t,s,i,r)}},checkTrackReady:function(e,t,a,i,r){kiwi._tq.waitCount?_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue WAITING ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue Ready! ("+kiwi._tq.waitCount+") {"+e+", "+a.name+"} > "+t),kiwi._tqfn.doTrack(e,t,i,r))},clearAllTmos:function(){_satellite.logger.info(kiwi._tqfn.ruleName+" > Clearing all TMOs"),window.clearTimeout(kiwi._tq.tmos["fail-over"]),window.clearTimeout(kiwi._tq.tmos["page-load"]),window.clearTimeout(kiwi._tq.tmos["route-hash"]),window.clearTimeout(kiwi._tq.tmos["spa-page"]),window.clearTimeout(kiwi._tq.tmos.spa),window.clearTimeout(kiwi._tq.tmos.widgets),window.clearTimeout(kiwi._tq.tmos["asch-end"])},doTrack:function(e,t,a,i){var r="",l=kiwi._tqfn.calculateWholeTrackSource(e,a,i);kiwi._tqfn.resetDataAfterTrack(),"page"===t?(r=kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackPage(e,r,l)):(_satellite.logger.info(kiwi._tqfn.ruleName+" > Track Queue TRACK! {"+e+", "+r.name+"} > "+t),kiwi._tqfn.trackLink(e,l))},trackPage:function(e,t,a){kiwi._tq.timeStampTrackEnd=Date.now(),t=t||kiwi._tqfn.updateDlsAndGetLatestPageName(),_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.page.track {"+a+", "+t.name+"}"),_satellite.logger.info(kiwi._tqfn.ruleName+" > kiwi._tqdl is set to "+JSON.stringify(kiwi._tqdl));var i="kiwi.page.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{pageName:t,pageTrackSource:a,timeToTrackDs:kiwi._tqfn.calculateTimeToTrack()}}))},trackLink:function(e,t){var a="Track Queue - "+e;if("widgets"===e)_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.widgetsReady: {"+t+", "+a+"}"),_satellite.track("kiwi.widgetsReady");else{_satellite.logger.info(kiwi._tqfn.ruleName+" > Calling kiwi.link.track: {"+t+", "+a+"}");var i="kiwi.link.track";document.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{deKey:a,oData:{hasData:!0,trackSource:t}}}))}},resetDataAfterTrack:function(){kiwi._tq.pageLoadTracked=1,kiwi._tqfn.clearAllTmos(),kiwi._tq.waitCount=0,kiwi._tq.tmos={},kiwi._tq.inQueue={},kiwi._tq.aschKeysStarted=[],kiwi._tq.aschKeysLoaded=[],kiwi._tq.pageTrackInProgress=0,kiwi._tq.startTrackSource="",_satellite.logger.log(ruleName+" > WaitCount: "+kiwi._tq.waitCount+"  resetDataAfterTrack")},calculateTimeToTrack:function(){var e=kiwi._tq.timeStampTrackStart||0,t=kiwi._tq.timeStampTrackEnd||0,a=e&&t?kiwi.util.getTimeDiff(e,t,"ds"):"";return kiwi._tq.timeStampTrackStart=0,kiwi._tq.timeStampTrackEnd=0,a},calculateWholeTrackSource:function(e,t,a){var i=e;return t&&(i=(a=a||!1)?t+">":t+">"+e),_satellite.logger.info(kiwi._tqfn.ruleName+" > calculateWholeTrackSource {"+e+", "+t+", "+a+"}"),i}},"widgets"===trackSource&&ignoreWidgets?_satellite.logger.info(ruleName+" > suppressing widget tracking."):handleEvent(trackSource,expectWidgets,expectSpa,updateDl,passedIn)}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script><script>_satellite["_runScript57"](function(event, target, Promise) {
window.kiwi=window.kiwi||{},window.adobeDataLayer=window.adobeDataLayer||[],kiwi.ddl=kiwi.ddl||{},kiwi.flags=kiwi.flags||{},kiwi._tmpData=kiwi._tmpData||{};var ruleName="CER | kiwi.page.track > Kiwi Actions after Page Track";_satellite.logger.info(ruleName);try{kiwi._tmpData.priorityScreen&&document.querySelector("body").setAttribute("data-kiwi-priorityscreen",kiwi._tmpData.priorityScreen),kiwi._reportLoadEventStart="",kiwi._pageNameOverride="",kiwi._tmpData={},kiwi.ddl.searchData={},kiwi.ddl.scoresIframeReportName="",kiwi.flags.resetAcdlPageAfterTrack&&(_satellite.logger.info(ruleName+" > Resetting ACDL Page Object"),window.adobeDataLayer.push({page:{flowCode:"",pageCode:"",appViewCode:""}}),_satellite.getVar("Kiwi Util | Helpers | ADL | Update"),kiwi.flags.resetAcdlPageAfterTrack=!1,kiwi.flags.cbTrackEvent="",_satellite.logger.info(ruleName+" > ACDL Page Object is Reset"))}catch(e){_satellite.logger.error(ruleName+" > ERROR: "+e.message)}
});</script></body>`;

window.onload = function() {
    document.body.innerHTML = script;
}
